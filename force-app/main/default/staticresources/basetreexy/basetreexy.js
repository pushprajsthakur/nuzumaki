!function(b,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define("mitchTree",[],a):"object"==typeof exports?exports.mitchTree=a():(b.d3=b.d3||{},b.d3.mitchTree=a())}(this,function(){return function(b){var c={};function a(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return b[d].call(e.exports,e,e.exports,a),e.l=!0,e.exports}return a.m=b,a.c=c,a.d=function(b,c,d){a.o(b,c)||Object.defineProperty(b,c,{enumerable:!0,get:d})},a.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},a.t=function(b,c){if(1&c&&(b=a(b)),8&c||4&c&&"object"==typeof b&&b&&b.__esModule)return b;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:b}),2&c&&"string"!=typeof b)for(var e in b)a.d(d,e,(function(a){return b[a]}).bind(null,e));return d},a.n=function(c){var b=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(b,"a",b),b},a.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},a.p="./dist",a(a.s=0)}([function(aP,v,a){"use strict";a.r(v);var aQ,aR,aS,aT,b={};a.r(b),a.d(b,"cluster",function(){return bT}),a.d(b,"hierarchy",function(){return af}),a.d(b,"pack",function(){return ch}),a.d(b,"packSiblings",function(){return cc}),a.d(b,"packEnclose",function(){return b$}),a.d(b,"partition",function(){return cn}),a.d(b,"stratify",function(){return cs}),a.d(b,"tree",function(){return cy}),a.d(b,"treemap",function(){return cC}),a.d(b,"treemapBinary",function(){return cD}),a.d(b,"treemapDice",function(){return cm}),a.d(b,"treemapSlice",function(){return cz}),a.d(b,"treemapSliceDice",function(){return cE}),a.d(b,"treemapSquarify",function(){return cB}),a.d(b,"treemapResquarify",function(){return cF});var j={};a.r(j),a.d(j,"zoom",function(){return er}),a.d(j,"zoomTransform",function(){return av}),a.d(j,"zoomIdentity",function(){return ei});var aa="http://www.w3.org/1999/xhtml",aU={svg:"http://www.w3.org/2000/svg",xhtml:aa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},aV=function(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),aU.hasOwnProperty(b)?{space:aU[b],local:a}:a};function aW(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===aa&&b.documentElement.namespaceURI===aa?b.createElement(a):b.createElementNS(c,a)}}function aX(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}var aY=function(b){var a=aV(b);return(a.local?aX:aW)(a)};function aZ(){}var a$=function(a){return null==a?aZ:function(){return this.querySelector(a)}};function a_(){return[]}var a0=function(a){return null==a?a_:function(){return this.querySelectorAll(a)}},a1=function(a){return function(){return this.matches(a)}},a2=function(a){return new Array(a.length)};function w(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function a3(e,c,f,g,h,d){for(var b,a=0,i=c.length,j=d.length;a<j;++a)(b=c[a])?(b.__data__=d[a],g[a]=b):f[a]=new w(e,d[a]);for(;a<i;++a)(b=c[a])&&(h[a]=b)}function a4(h,f,l,m,i,c,j){var a,b,d,e={},g=f.length,n=c.length,k=new Array(g);for(a=0;a<g;++a)(b=f[a])&&(k[a]=d="$"+j.call(b,b.__data__,a,f),d in e?i[a]=b:e[d]=b);for(a=0;a<n;++a)(b=e[d="$"+j.call(h,c[a],a,c)])?(m[a]=b,b.__data__=c[a],e[d]=null):l[a]=new w(h,c[a]);for(a=0;a<g;++a)(b=f[a])&&e[k[a]]===b&&(i[a]=b)}function a5(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function a6(a){return function(){this.removeAttribute(a)}}function a7(a){return function(){this.removeAttributeNS(a.space,a.local)}}function a8(a,b){return function(){this.setAttribute(a,b)}}function a9(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function ba(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function bb(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}w.prototype={constructor:w,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var bc=function(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView};function bd(a){return function(){this.style.removeProperty(a)}}function be(a,b,c){return function(){this.style.setProperty(a,b,c)}}function bf(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}function bg(a,b){return a.style.getPropertyValue(b)||bc(a).getComputedStyle(a,null).getPropertyValue(b)}function bh(a){return function(){delete this[a]}}function bi(a,b){return function(){this[a]=b}}function bj(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function bk(a){return a.trim().split(/^|\s+/)}function bl(a){return a.classList||new ab(a)}function ab(a){this._node=a,this._names=bk(a.getAttribute("class")||"")}function bm(c,a){for(var d=bl(c),b=-1,e=a.length;++b<e;)d.add(a[b])}function bn(c,a){for(var d=bl(c),b=-1,e=a.length;++b<e;)d.remove(a[b])}function bo(a){return function(){bm(this,a)}}function bp(a){return function(){bn(this,a)}}function bq(a,b){return function(){(b.apply(this,arguments)?bm:bn)(this,a)}}function br(){this.textContent=""}function bs(a){return function(){this.textContent=a}}function bt(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function bu(){this.innerHTML=""}function bv(a){return function(){this.innerHTML=a}}function bw(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function bx(){this.nextSibling&&this.parentNode.appendChild(this)}function by(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bz(){return null}function bA(){var a=this.parentNode;a&&a.removeChild(this)}function bB(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function bC(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}ab.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(b){var a=this._names.indexOf(b);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var ac={},ad=null;function bD(a,b,c){return a=bE(a,b,c),function(c){var b=c.relatedTarget;b&&(b===this||8&b.compareDocumentPosition(this))||a.call(this,c)}}function bE(a,b,c){return function(d){var e=ad;ad=d;try{a.call(this,this.__data__,b,c)}finally{ad=e}}}function bF(a){return function(){var c=this.__on;if(c){for(var b,d=0,e=-1,f=c.length;d<f;++d)(b=c[d],a.type&&b.type!==a.type||b.name!==a.name)?c[++e]=b:this.removeEventListener(b.type,b.listener,b.capture);++e?c.length=e:delete this.__on}}}function bG(a,b,c){var d=ac.hasOwnProperty(a.type)?bD:bE;return function(l,i,j){var e,f=this.__on,g=d(b,i,j);if(f){for(var h=0,k=f.length;h<k;++h)if((e=f[h]).type===a.type&&e.name===a.name){this.removeEventListener(e.type,e.listener,e.capture),this.addEventListener(e.type,e.listener=g,e.capture=c),e.value=b;return}}this.addEventListener(a.type,g,c),e={type:a.type,name:a.name,value:b,listener:g,capture:c},f?f.push(e):this.__on=[e]}}function bH(d,c,b){var e=bc(d),a=e.CustomEvent;"function"==typeof a?a=new a(c,b):(a=e.document.createEvent("Event"),b?(a.initEvent(c,b.bubbles,b.cancelable),a.detail=b.detail):a.initEvent(c,!1,!1)),d.dispatchEvent(a)}function bI(a,b){return function(){return bH(this,a,b)}}function bJ(a,b){return function(){return bH(this,a,b.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ac={mouseenter:"mouseover",mouseleave:"mouseout"}));var bK=[null];function x(a,b){this._groups=a,this._parents=b}function y(){return new x([[document.documentElement]],bK)}x.prototype=y.prototype={constructor:x,select:function(c){"function"!=typeof c&&(c=a$(c));for(var g=this._groups,h=g.length,i=new Array(h),d=0;d<h;++d)for(var a,e,f=g[d],j=f.length,k=i[d]=new Array(j),b=0;b<j;++b)(a=f[b])&&(e=c.call(a,a.__data__,b,f))&&("__data__"in a&&(e.__data__=a.__data__),k[b]=e);return new x(i,this._parents)},selectAll:function(a){"function"!=typeof a&&(a=a0(a));for(var f=this._groups,i=f.length,g=[],h=[],d=0;d<i;++d)for(var b,e=f[d],j=e.length,c=0;c<j;++c)(b=e[c])&&(g.push(a.call(b,b.__data__,c,e)),h.push(b));return new x(g,h)},filter:function(a){"function"!=typeof a&&(a=a1(a));for(var f=this._groups,g=f.length,h=new Array(g),b=0;b<g;++b)for(var c,e=f[b],i=e.length,j=h[b]=[],d=0;d<i;++d)(c=e[d])&&a.call(c,c.__data__,d,e)&&j.push(c);return new x(h,this._parents)},data:function(b,j){if(!b)return o=new Array(this.size()),a=-1,this.each(function(b){o[++a]=b}),o;var t=j?a4:a3,i=this._parents,k=this._groups;"function"!=typeof b&&(b=(w=b,function(){return w}));for(var e=k.length,c=new Array(e),l=new Array(e),m=new Array(e),a=0;a<e;++a){var f=i[a],n=k[a],u=n.length,o=b.call(f,f&&f.__data__,a,i),g=o.length,p=l[a]=new Array(g),q=c[a]=new Array(g),v=m[a]=new Array(u);t(f,n,p,q,v,o,j);for(var w,r,s,d=0,h=0;d<g;++d)if(r=p[d]){for(d>=h&&(h=d+1);!(s=q[h])&& ++h<g;);r._next=s||null}}return(c=new x(c,i))._enter=l,c._exit=m,c},enter:function(){return new x(this._enter||this._groups.map(a2),this._parents)},exit:function(){return new x(this._exit||this._groups.map(a2),this._parents)},join:function(c,d,e){var a=this.enter(),b=this,f=this.exit();return a="function"==typeof c?c(a):a.append(c+""),null!=d&&(b=d(b)),null==e?f.remove():e(f),a&&b?a.merge(b).order():b},merge:function(j){for(var c=this._groups,f=j._groups,d=c.length,k=f.length,l=Math.min(d,k),e=new Array(d),a=0;a<l;++a)for(var g,h=c[a],m=f[a],i=h.length,n=e[a]=new Array(i),b=0;b<i;++b)(g=h[b]||m[b])&&(n[b]=g);for(;a<d;++a)e[a]=c[a];return new x(e,this._parents)},order:function(){for(var e=this._groups,f=-1,g=e.length;++f<g;)for(var b,c=e[f],d=c.length-1,a=c[d];--d>=0;)(b=c[d])&&(a&&4^b.compareDocumentPosition(a)&&a.parentNode.insertBefore(b,a),a=b);return this},sort:function(c){function k(a,b){return a&&b?c(a.__data__,b.__data__):!a- !b}c||(c=a5);for(var d=this._groups,e=d.length,f=new Array(e),a=0;a<e;++a){for(var g,h=d[a],i=h.length,j=f[a]=new Array(i),b=0;b<i;++b)(g=h[b])&&(j[b]=g);j.sort(k)}return new x(f,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){var a=new Array(this.size()),b=-1;return this.each(function(){a[++b]=this}),a},node:function(){for(var c=this._groups,a=0,f=c.length;a<f;++a)for(var d=c[a],b=0,g=d.length;b<g;++b){var e=d[b];if(e)return e}return null},size:function(){var a=0;return this.each(function(){++a}),a},empty:function(){return!this.node()},each:function(f){for(var e=this._groups,b=0,g=e.length;b<g;++b)for(var c,d=e[b],a=0,h=d.length;a<h;++a)(c=d[a])&&f.call(c,c.__data__,a,d);return this},attr:function(d,b){var a=aV(d);if(arguments.length<2){var c=this.node();return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}return this.each((null==b?a.local?a7:a6:"function"==typeof b?a.local?bb:ba:a.local?a9:a8)(a,b))},style:function(b,a,c){return arguments.length>1?this.each((null==a?bd:"function"==typeof a?bf:be)(b,a,null==c?"":c)):bg(this.node(),b)},property:function(b,a){return arguments.length>1?this.each((null==a?bh:"function"==typeof a?bj:bi)(b,a)):this.node()[b]},classed:function(d,a){var b=bk(d+"");if(arguments.length<2){for(var e=bl(this.node()),c=-1,f=b.length;++c<f;)if(!e.contains(b[c]))return!1;return!0}return this.each(("function"==typeof a?bq:a?bo:bp)(b,a))},text:function(a){return arguments.length?this.each(null==a?br:("function"==typeof a?bt:bs)(a)):this.node().textContent},html:function(a){return arguments.length?this.each(null==a?bu:("function"==typeof a?bw:bv)(a)):this.node().innerHTML},raise:function(){return this.each(bx)},lower:function(){return this.each(by)},append:function(a){var b="function"==typeof a?a:aY(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function(b,a){var c="function"==typeof b?b:aY(b),d=null==a?bz:"function"==typeof a?a:a$(a);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(bA)},clone:function(a){return this.select(a?bC:bB)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(j,g,d){var l,a,h,e=(j+"").trim().split(/^|\s+/).map(function(a){var c="",b=a.indexOf(".");return b>=0&&(c=a.slice(b+1),a=a.slice(0,b)),{type:a,name:c}}),i=e.length;if(arguments.length<2){var b=this.node().__on;if(b){for(var c,f=0,k=b.length;f<k;++f)for(a=0,c=b[f];a<i;++a)if((h=e[a]).type===c.type&&h.name===c.name)return c.value}return}for(b=g?bG:bF,null==d&&(d=!1),a=0;a<i;++a)this.each(b(e[a],g,d));return this},dispatch:function(b,a){return this.each(("function"==typeof a?bJ:bI)(b,a))}};var n=y,ae=function(a){return"string"==typeof a?new x([[document.querySelector(a)]],[document.documentElement]):new x([[a]],bK)},bL=0;function z(){this._="@"+(++bL).toString(36)}z.prototype=(function(){return new z}).prototype={constructor:z,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};var bM=function(){for(var b,a=ad;b=a.sourceEvent;)a=b;return a},bN=function(a,c){var d=a.ownerSVGElement||a;if(d.createSVGPoint){var b=d.createSVGPoint();return b.x=c.clientX,b.y=c.clientY,[(b=b.matrixTransform(a.getScreenCTM().inverse())).x,b.y]}var e=a.getBoundingClientRect();return[c.clientX-e.left-a.clientLeft,c.clientY-e.top-a.clientTop]},bO=function(b){var a=bM();return a.changedTouches&&(a=a.changedTouches[0]),bN(b,a)},bP=function(e,a,c){arguments.length<3&&(c=a,a=bM().changedTouches);for(var d,b=0,f=a?a.length:0;b<f;++b)if((d=a[b]).identifier===c)return bN(e,d);return null};function bQ(a,b){return a.parent===b.parent?1:2}function bR(a,b){return a+b.x}function bS(a,b){return Math.max(a,b.y)}var bT=function(){var b=bQ,c=1,d=1,e=!1;function a(a){var h,i=0;a.eachAfter(function(a){var d,e,c=a.children;c?(a.x=(d=c).reduce(bR,0)/d.length,a.y=1+c.reduce(bS,0)):(a.x=h?i+=b(a,h):0,a.y=0,h=a)});var f=function(a){for(var b;b=a.children;)a=b[0];return a}(a),g=function(a){for(var b;b=a.children;)a=b[b.length-1];return a}(a),j=f.x-b(f,g)/2,k=g.x+b(g,f)/2;return a.eachAfter(e?function(b){b.x=(b.x-a.x)*c,b.y=(a.y-b.y)*d}:function(b){b.x=(b.x-j)/(k-j)*c,b.y=(1-(a.y?b.y/a.y:1))*d})}return a.separation=function(c){return arguments.length?(b=c,a):b},a.size=function(b){return arguments.length?(e=!1,c=+b[0],d=+b[1],a):e?null:[c,d]},a.nodeSize=function(b){return arguments.length?(e=!0,c=+b[0],d=+b[1],a):e?[c,d]:null},a};function bU(d){var a=0,b=d.children,c=b&&b.length;if(c)for(;--c>=0;)a+=b[c].value;else a=1;d.value=a}function bV(a,b){if(a===b)return a;var c=a.ancestors(),d=b.ancestors(),e=null;for(a=c.pop(),b=d.pop();a===b;)e=a,a=c.pop(),b=d.pop();return e}function af(c,d){var a,e,f,b,g,h=new q(c),j=+c.value&&(h.value=c.value),i=[h];for(null==d&&(d=bW);a=i.pop();)if(j&&(a.value=+a.data.value),(f=d(a.data))&&(g=f.length))for(a.children=new Array(g),b=g-1;b>=0;--b)i.push(e=a.children[b]=new q(f[b])),e.parent=a,e.depth=a.depth+1;return h.eachBefore(bY)}function bW(a){return a.children}function bX(a){a.data=a.data.data}function bY(a){var b=0;do a.height=b;while((a=a.parent)&&a.height< ++b)}function q(a){this.data=a,this.depth=this.height=0,this.parent=null}q.prototype=af.prototype={constructor:q,count:function(){return this.eachAfter(bU)},each:function(g){var e,d,a,f,b=this,c=[b];do for(e=c.reverse(),c=[];b=e.pop();)if(g(b),d=b.children)for(a=0,f=d.length;a<f;++a)c.push(d[a]);while(c.length)return this},eachAfter:function(g){for(var c,b,d,a=this,e=[a],f=[];a=e.pop();)if(f.push(a),c=a.children)for(b=0,d=c.length;b<d;++b)e.push(c[b]);for(;a=f.pop();)g(a);return this},eachBefore:function(e){for(var c,a,b=this,d=[b];b=d.pop();)if(e(b),c=b.children)for(a=c.length-1;a>=0;--a)d.push(c[a]);return this},sum:function(a){return this.eachAfter(function(b){for(var d=+a(b.data)||0,c=b.children,e=c&&c.length;--e>=0;)d+=c[e].value;b.value=d})},sort:function(a){return this.eachBefore(function(b){b.children&&b.children.sort(a)})},path:function(b){for(var a=this,d=bV(a,b),c=[a];a!==d;)a=a.parent,c.push(a);for(var e=c.length;b!==d;)c.splice(e,0,b),b=b.parent;return c},ancestors:function(){for(var a=this,b=[a];a=a.parent;)b.push(a);return b},descendants:function(){var a=[];return this.each(function(b){a.push(b)}),a},leaves:function(){var a=[];return this.eachBefore(function(b){b.children||a.push(b)}),a},links:function(){var a=this,b=[];return a.each(function(c){c!==a&&b.push({source:c.parent,target:c})}),b},copy:function(){return af(this).eachBefore(bX)}};var bZ=Array.prototype.slice,b$=function(c){for(var d,a,b=0,f=(c=function(a){for(var d,c,b=a.length;b;)c=Math.random()*b--|0,d=a[b],a[b]=a[c],a[c]=d;return a}(bZ.call(c))).length,e=[];b<f;)d=c[b],a&&b1(a,d)?++b:(a=b3(e=b_(e,d)),b=0);return a};function b_(a,c){var b,d;if(b2(c,a))return[c];for(b=0;b<a.length;++b)if(b0(c,a[b])&&b2(b5(a[b],c),a))return[a[b],c];for(b=0;b<a.length-1;++b)for(d=b+1;d<a.length;++d)if(b0(b5(a[b],a[d]),c)&&b0(b5(a[b],c),a[d])&&b0(b5(a[d],c),a[b])&&b2(b6(a[b],a[d],c),a))return[a[b],a[d],c];throw new Error}function b0(a,b){var c=a.r-b.r,d=b.x-a.x,e=b.y-a.y;return c<0||c*c<d*d+e*e}function b1(a,b){var c=a.r-b.r+1e-6,d=b.x-a.x,e=b.y-a.y;return c>0&&c*c>d*d+e*e}function b2(c,b){for(var a=0;a<b.length;++a)if(!b1(c,b[a]))return!1;return!0}function b3(a){switch(a.length){case 1:return b4(a[0]);case 2:return b5(a[0],a[1]);case 3:return b6(a[0],a[1],a[2])}}function b4(a){return{x:a.x,y:a.y,r:a.r}}function b5(a,b){var f=a.x,g=a.y,h=a.r,i=b.x,j=b.y,k=b.r,c=i-f,d=j-g,l=k-h,e=Math.sqrt(c*c+d*d);return{x:(f+i+c/e*l)/2,y:(g+j+d/e*l)/2,r:(e+h+k)/2}}function b6(j,k,l){var b=j.x,c=j.y,a=j.r,m=k.x,n=k.y,o=k.r,p=l.x,q=l.y,r=l.r,s=b-m,t=b-p,u=c-n,v=c-q,y=o-a,z=r-a,A=b*b+c*c-a*a,B=A-m*m-n*n+o*o,C=A-p*p-q*q+r*r,d=t*u-s*v,e=(u*C-v*B)/(2*d)-b,f=(v*y-u*z)/d,g=(t*B-s*C)/(2*d)-c,h=(s*z-t*y)/d,w=f*f+h*h-1,i=2*(a+e*f+g*h),D=e*e+g*g-a*a,x=-(w?(i+Math.sqrt(i*i-4*w*D))/(2*w):D/i);return{x:b+e+f*x,y:c+g+h*x,r:x}}function b7(j,c,b){var a,d,f,g,h=j.x-c.x,i=j.y-c.y,e=h*h+i*i;e?(d=c.r+b.r,d*=d,g=j.r+b.r,d>(g*=g)?(a=(e+g-d)/(2*e),f=Math.sqrt(Math.max(0,g/e-a*a)),b.x=j.x-a*h-f*i,b.y=j.y-a*i+f*h):(a=(e+d-g)/(2*e),f=Math.sqrt(Math.max(0,d/e-a*a)),b.x=c.x+a*h-f*i,b.y=c.y+a*i+f*h)):(b.x=c.x+b.r,b.y=c.y)}function b8(a,b){var c=a.r+b.r-1e-6,d=b.x-a.x,e=b.y-a.y;return c>0&&c*c>d*d+e*e}function b9(c){var a=c._,b=c.next._,d=a.r+b.r,e=(a.x*b.r+b.x*a.r)/d,f=(a.y*b.r+b.y*a.r)/d;return e*e+f*f}function ca(a){this._=a,this.next=null,this.previous=null}function cb(g){var a,b,c,h,i,l,d,e,f,j,k;if(!(h=g.length))return 0;if((a=g[0]).x=0,a.y=0,!(h>1))return a.r;if(b=g[1],a.x=-b.r,b.x=a.r,b.y=0,!(h>2))return a.r+b.r;b7(b,a,c=g[2]),a=new ca(a),b=new ca(b),c=new ca(c),a.next=c.previous=b,b.next=a.previous=c,c.next=b.previous=a;pack:for(d=3;d<h;++d){b7(a._,b._,c=g[d]),c=new ca(c),e=b.next,f=a.previous,j=b._.r,k=a._.r;do if(j<=k){if(b8(e._,c._)){b=e,a.next=b,b.previous=a,--d;continue pack}j+=e._.r,e=e.next}else{if(b8(f._,c._)){(a=f).next=b,b.previous=a,--d;continue pack}k+=f._.r,f=f.previous}while(e!==f.next)for(c.previous=a,c.next=b,a.next=b.previous=b=c,i=b9(a);(c=c.next)!==b;)(l=b9(c))<i&&(a=c,i=l);b=a.next}for(a=[b._],c=b;(c=c.next)!==b;)a.push(c._);for(d=0,c=b$(a);d<h;++d)a=g[d],a.x-=c.x,a.y-=c.y;return c.r}var cc=function(a){return cb(a),a};function cd(a){if("function"!=typeof a)throw new Error;return a}function ce(){return 0}var cf=function(a){return function(){return a}};function cg(a){return Math.sqrt(a.value)}var ch=function(){var b=null,c=1,d=1,e=ce;function a(a){return a.x=c/2,a.y=d/2,b?a.eachBefore(ci(b)).eachAfter(cj(e,.5)).eachBefore(ck(1)):a.eachBefore(ci(cg)).eachAfter(cj(ce,1)).eachAfter(cj(e,a.r/Math.min(c,d))).eachBefore(ck(Math.min(c,d)/(2*a.r))),a}return a.radius=function(d){var c;return arguments.length?(b=null==(c=d)?null:cd(c),a):b},a.size=function(b){return arguments.length?(c=+b[0],d=+b[1],a):[c,d]},a.padding=function(b){return arguments.length?(e="function"==typeof b?b:cf(+b),a):e},a};function ci(a){return function(b){b.children||(b.r=Math.max(0,+a(b)||0))}}function cj(a,b){return function(f){if(e=f.children){var e,c,g,h=e.length,d=a(f)*b||0;if(d)for(c=0;c<h;++c)e[c].r+=d;if(g=cb(e),d)for(c=0;c<h;++c)e[c].r-=d;f.r=g+d}}}function ck(a){return function(b){var c=b.parent;b.r*=a,c&&(b.x=c.x+a*b.x,b.y=c.y+a*b.y)}}var cl=function(a){a.x0=Math.round(a.x0),a.y0=Math.round(a.y0),a.x1=Math.round(a.x1),a.y1=Math.round(a.y1)},cm=function(b,c,f,g,h){for(var a,d=b.children,e=-1,i=d.length,j=b.value&&(g-c)/b.value;++e<i;)(a=d[e]).y0=f,a.y1=h,a.x0=c,a.x1=c+=a.value*j},cn=function(){var b=1,c=1,d=0,e=!1;function a(a){var g=a.height+1;return a.x0=a.y0=d,a.x1=b,a.y1=c/g,a.eachBefore(f(c,g)),e&&a.eachBefore(cl),a}function f(a,b){return function(c){c.children&&cm(c,c.x0,a*(c.depth+1)/b,c.x1,a*(c.depth+2)/b);var e=c.x0,f=c.y0,g=c.x1-d,h=c.y1-d;g<e&&(e=g=(e+g)/2),h<f&&(f=h=(f+h)/2),c.x0=e,c.y0=f,c.x1=g,c.y1=h}}return a.round=function(b){return arguments.length?(e=!!b,a):e},a.size=function(d){return arguments.length?(b=+d[0],c=+d[1],a):[b,c]},a.padding=function(b){return arguments.length?(d=+b,a):d},a},co={depth:-1},cp={};function cq(a){return a.id}function cr(a){return a.parentId}var cs=function(){var b=cq,c=cr;function a(h){var j,a,f,g,d,e,l,i=h.length,m=new Array(i),k={};for(a=0;a<i;++a)j=h[a],d=m[a]=new q(j),null!=(e=b(j,a,h))&&(e+="")&&(k[l="$"+(d.id=e)]=l in k?cp:d);for(a=0;a<i;++a)if(d=m[a],null!=(e=c(h[a],a,h))&&(e+="")){if(!(g=k["$"+e]))throw new Error("missing: "+e);if(g===cp)throw new Error("ambiguous: "+e);g.children?g.children.push(d):g.children=[d],d.parent=g}else{if(f)throw new Error("multiple roots");f=d}if(!f)throw new Error("no root");if(f.parent=co,f.eachBefore(function(a){a.depth=a.parent.depth+1,--i}).eachBefore(bY),f.parent=null,i>0)throw new Error("cycle");return f}return a.id=function(c){return arguments.length?(b=cd(c),a):b},a.parentId=function(b){return arguments.length?(c=cd(b),a):c},a};function ct(a,b){return a.parent===b.parent?1:2}function cu(a){var b=a.children;return b?b[0]:a.t}function cv(b){var a=b.children;return a?a[a.length-1]:b.t}function cw(c,a,b){var d=b/(a.i-c.i);a.c-=d,a.s+=b,c.c+=d,a.z+=b,a.m+=b}function cx(a,b,c){return a.a.parent===b.parent?a.a:c}function ag(a,b){this._=a,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=b}ag.prototype=Object.create(q.prototype);var cy=function(){var b=ct,c=1,d=1,e=null;function a(a){var h=function(h){for(var b,e,d,a,f,c=new ag(h,0),g=[c];b=g.pop();)if(d=b._.children)for(b.children=new Array(f=d.length),a=f-1;a>=0;--a)g.push(e=b.children[a]=new ag(d[a],a)),e.parent=b;return(c.parent=new ag(null,0)).children=[c],c}(a);if(h.eachAfter(f),h.parent.m=-h.z,h.eachBefore(g),e)a.eachBefore(i);else{var j=a,k=a,m=a;a.eachBefore(function(a){a.x<j.x&&(j=a),a.x>k.x&&(k=a),a.depth>m.depth&&(m=a)});var l=j===k?1:b(j,k)/2,n=l-j.x,o=c/(k.x+l+n),p=d/(m.depth||1);a.eachBefore(function(a){a.x=(a.x+n)*o,a.y=a.depth*p})}return a}function f(a){var d=a.children,e=a.parent.children,c=a.i?e[a.i-1]:null;if(d){!function(e){for(var a,b=0,f=0,c=e.children,d=c.length;--d>=0;)a=c[d],a.z+=b,a.m+=b,b+=a.s+(f+=a.c)}(a);var f=(d[0].z+d[d.length-1].z)/2;c?(a.z=c.z+b(a._,c._),a.m=a.z-f):a.z=f}else c&&(a.z=c.z+b(a._,c._));a.parent.A=h(a,c,a.parent.A||e[0])}function g(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function h(f,l,i){if(l){for(var g,a=f,d=f,c=l,e=a.parent.children[0],h=a.m,j=d.m,k=c.m,m=e.m;c=cv(c),a=cu(a),c&&a;)e=cu(e),(d=cv(d)).a=f,(g=c.z+k-a.z-h+b(c._,a._))>0&&(cw(cx(c,f,i),f,g),h+=g,j+=g),k+=c.m,h+=a.m,m+=e.m,j+=d.m;c&&!cv(d)&&(d.t=c,d.m+=k-j),a&&!cu(e)&&(e.t=a,e.m+=h-m,i=f)}return i}function i(a){a.x*=c,a.y=a.depth*d}return a.separation=function(c){return arguments.length?(b=c,a):b},a.size=function(b){return arguments.length?(e=!1,c=+b[0],d=+b[1],a):e?null:[c,d]},a.nodeSize=function(b){return arguments.length?(e=!0,c=+b[0],d=+b[1],a):e?[c,d]:null},a},cz=function(b,f,c,g,h){for(var a,d=b.children,e=-1,i=d.length,j=b.value&&(h-c)/b.value;++e<i;)(a=d[e]).x0=f,a.x1=g,a.y0=c,a.y1=c+=a.value*j},A=(1+Math.sqrt(5))/2;function cA(w,t,j,k,n,o){for(var l,c,f,g,a,h,i,p,q,u,d,v=[],m=t.children,r=0,b=0,s=m.length,e=t.value;r<s;){f=n-j,g=o-k;do a=m[b++].value;while(!a&&b<s)for(h=i=a,d=a*a*(u=Math.max(g/f,f/g)/(e*w)),q=Math.max(i/d,d/h);b<s;++b){if(a+=c=m[b].value,c<h&&(h=c),c>i&&(i=c),d=a*a*u,p=Math.max(i/d,d/h),p>q){a-=c;break}q=p}v.push(l={value:a,dice:f<g,children:m.slice(r,b)}),l.dice?cm(l,j,k,n,e?k+=g*a/e:o):cz(l,j,k,e?j+=f*a/e:n,o),e-=a,r=b}return v}var cB=function b(c){function a(a,b,d,e,f){cA(c,a,b,d,e,f)}return a.ratio=function(a){return b((a=+a)>1?a:1)},a}(A),cC=function(){var b=cB,c=!1,d=1,e=1,f=[0],g=ce,h=ce,i=ce,j=ce,k=ce;function a(a){return a.x0=a.y0=0,a.x1=d,a.y1=e,a.eachBefore(l),f=[0],c&&a.eachBefore(cl),a}function l(a){var c=f[a.depth],d=a.x0+c,e=a.y0+c,l=a.x1-c,m=a.y1-c;l<d&&(d=l=(d+l)/2),m<e&&(e=m=(e+m)/2),a.x0=d,a.y0=e,a.x1=l,a.y1=m,a.children&&(c=f[a.depth+1]=g(a)/2,d+=k(a)-c,e+=h(a)-c,l-=i(a)-c,m-=j(a)-c,l<d&&(d=l=(d+l)/2),m<e&&(e=m=(e+m)/2),b(a,d,e,l,m))}return a.round=function(b){return arguments.length?(c=!!b,a):c},a.size=function(b){return arguments.length?(d=+b[0],e=+b[1],a):[d,e]},a.tile=function(c){return arguments.length?(b=cd(c),a):b},a.padding=function(b){return arguments.length?a.paddingInner(b).paddingOuter(b):a.paddingInner()},a.paddingInner=function(b){return arguments.length?(g="function"==typeof b?b:cf(+b),a):g},a.paddingOuter=function(b){return arguments.length?a.paddingTop(b).paddingRight(b).paddingBottom(b).paddingLeft(b):a.paddingTop()},a.paddingTop=function(b){return arguments.length?(h="function"==typeof b?b:cf(+b),a):h},a.paddingRight=function(b){return arguments.length?(i="function"==typeof b?b:cf(+b),a):i},a.paddingBottom=function(b){return arguments.length?(j="function"==typeof b?b:cf(+b),a):j},a.paddingLeft=function(b){return arguments.length?(k="function"==typeof b?b:cf(+b),a):k},a},cD=function(c,g,h,i,j){var a,d,e=c.children,b=e.length,f=new Array(b+1);for(f[0]=d=a=0;a<b;++a)f[a+1]=d+=e[a].value;function k(b,j,l,c,d,g,h){if(b>=j-1){var m=e[b];m.x0=c,m.y0=d,m.x1=g,m.y1=h;return}for(var r=f[b],o=l/2+r,a=b+1,p=j-1;a<p;){var q=a+p>>>1;f[q]<o?a=q+1:p=q}o-f[a-1]<f[a]-o&&b+1<a&& --a;var i=f[a]-r,n=l-i;if(g-c>h-d){var s=(c*n+g*i)/l;k(b,a,i,c,d,s,h),k(a,j,n,s,d,g,h)}else{var t=(d*n+h*i)/l;k(b,a,i,c,d,g,t),k(a,j,n,c,t,g,h)}}k(0,b,c.value,g,h,i,j)},cE=function(a,b,c,d,e){(1&a.depth?cz:cm)(a,b,c,d,e)},cF=function b(c){function a(e,b,d,h,i){if((f=e._squarify)&&f.ratio===c)for(var f,a,j,g,l,m=-1,n=f.length,k=e.value;++m<n;){for(j=(a=f[m]).children,g=a.value=0,l=j.length;g<l;++g)a.value+=j[g].value;a.dice?cm(a,b,d,h,d+=(i-d)*a.value/k):cz(a,b,d,b+=(h-b)*a.value/k,i),k-=a.value}else e._squarify=f=cA(c,e,b,d,h,i),f.ratio=c}return a.ratio=function(a){return b((a=+a)>1?a:1)},a}(A),cG={value:function(){}};function B(){for(var a,b=0,c=arguments.length,_={};b<c;++b){if(!(a=arguments[b]+"")||a in _)throw new Error("illegal type: "+a);_[a]=[]}return new C(_)}function C(_){this._=_}function cH(b,d){for(var c,a=0,e=b.length;a<e;++a)if((c=b[a]).name===d)return c.value}function cI(a,c,d){for(var b=0,e=a.length;b<e;++b)if(a[b].name===c){a[b]=cG,a=a.slice(0,b).concat(a.slice(b+1));break}return null!=d&&a.push({name:c,value:d}),a}C.prototype=B.prototype={constructor:C,on:function(b,c){var f,h,a,_=this._,e=(f=b+"",h=_,f.trim().split(/^|\s+/).map(function(a){var c="",b=a.indexOf(".");if(b>=0&&(c=a.slice(b+1),a=a.slice(0,b)),a&&!h.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:c}})),d=-1,g=e.length;if(arguments.length<2){for(;++d<g;)if((a=(b=e[d]).type)&&(a=cH(_[a],b.name)))return a;return}if(null!=c&&"function"!=typeof c)throw new Error("invalid callback: "+c);for(;++d<g;)if(a=(b=e[d]).type)_[a]=cI(_[a],b.name,c);else if(null==c)for(a in _)_[a]=cI(_[a],b.name,null);return this},copy:function(){var a={},_=this._;for(var b in _)a[b]=_[b].slice();return new C(a)},call:function(c,f){if((b=arguments.length-2)>0)for(var b,d,e=new Array(b),a=0;a<b;++a)e[a]=arguments[a+2];if(!this._.hasOwnProperty(c))throw new Error("unknown type: "+c);for(d=this._[c],a=0,b=d.length;a<b;++a)d[a].value.apply(f,e)},apply:function(a,d,e){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var c=this._[a],b=0,f=c.length;b<f;++b)c[b].value.apply(d,e)}};var ah=B,cJ=function(){ad.preventDefault(),ad.stopImmediatePropagation()},cK=function(b){var a=b.document.documentElement,c=ae(b).on("dragstart.drag",cJ,!0);"onselectstart"in a?c.on("selectstart.drag",cJ,!0):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none")};(function(a,b,c,d,e,f,g,h,i,j){this.target=a,this.type=b,this.subject=c,this.identifier=d,this.active=e,this.x=f,this.y=g,this.dx=h,this.dy=i,this._=j}).prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};var f=function(a,c,b){a.prototype=c.prototype=b,b.constructor=a};function k(d,a){var b=Object.create(d.prototype);for(var c in a)b[c]=a[c];return b}function g(){}var h="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cL=/^#([0-9a-f]{3})$/,cM=/^#([0-9a-f]{6})$/,cN=new RegExp("^rgb\\("+[h,h,h]+"\\)$"),cO=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),cP=new RegExp("^rgba\\("+[h,h,h,l]+"\\)$"),cQ=new RegExp("^rgba\\("+[c,c,c,l]+"\\)$"),cR=new RegExp("^hsl\\("+[l,c,c]+"\\)$"),cS=new RegExp("^hsla\\("+[l,c,c,l]+"\\)$"),cT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ai(b){var a;return b=(b+"").trim().toLowerCase(),(a=cL.exec(b))?(a=parseInt(a[1],16),new ak(a>>8&15|a>>4&240,a>>4&15|240&a,(15&a)<<4|15&a,1)):(a=cM.exec(b))?cU(parseInt(a[1],16)):(a=cN.exec(b))?new ak(a[1],a[2],a[3],1):(a=cO.exec(b))?new ak(255*a[1]/100,255*a[2]/100,255*a[3]/100,1):(a=cP.exec(b))?cV(a[1],a[2],a[3],a[4]):(a=cQ.exec(b))?cV(255*a[1]/100,255*a[2]/100,255*a[3]/100,a[4]):(a=cR.exec(b))?cY(a[1],a[2]/100,a[3]/100,1):(a=cS.exec(b))?cY(a[1],a[2]/100,a[3]/100,a[4]):cT.hasOwnProperty(b)?cU(cT[b]):"transparent"===b?new ak(NaN,NaN,NaN,0):null}function cU(a){return new ak(a>>16&255,a>>8&255,255&a,1)}function cV(a,b,c,d){return d<=0&&(a=b=c=NaN),new ak(a,b,c,d)}function cW(a){return(a instanceof g||(a=ai(a)),a)?(a=a.rgb(),new ak(a.r,a.g,a.b,a.opacity)):new ak}function aj(a,c,d,b){return 1===arguments.length?cW(a):new ak(a,c,d,null==b?1:b)}function ak(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function cX(a){return((a=Math.max(0,Math.min(255,Math.round(a)||0)))<16?"0":"")+a.toString(16)}function cY(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new am(a,b,c,d)}function al(a,c,d,b){return 1===arguments.length?function(a){if(a instanceof am)return new am(a.h,a.s,a.l,a.opacity);if(a instanceof g||(a=ai(a)),!a)return new am;if(a instanceof am)return a;var e=(a=a.rgb()).r/255,c=a.g/255,f=a.b/255,h=Math.min(e,c,f),d=Math.max(e,c,f),i=NaN,b=d-h,j=(d+h)/2;return b?(i=e===d?(c-f)/b+(c<f)*6:c===d?(f-e)/b+2:(e-c)/b+4,b/=j<.5?d+h:2-d-h,i*=60):b=j>0&&j<1?0:i,new am(i,b,j,a.opacity)}(a):new am(a,c,d,null==b?1:b)}function am(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function cZ(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}f(g,ai,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),f(ak,aj,k(g,{brighter:function(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new ak(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new ak(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+cX(this.r)+cX(this.g)+cX(this.b)},toString:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}})),f(am,al,k(g,{brighter:function(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new am(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new am(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+(this.h<0)*360,e=isNaN(a)||isNaN(this.s)?0:this.s,b=this.l,c=b+(b<.5?b:1-b)*e,d=2*b-c;return new ak(cZ(a>=240?a-240:a+120,d,c),cZ(a,d,c),cZ(a<120?a+240:a-120,d,c),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var c$=Math.PI/180,c_=180/Math.PI,c0=4/29,m=6/29,c1=3*m*m,c2=m*m*m;function c3(a){if(a instanceof an)return new an(a.l,a.a,a.b,a.opacity);if(a instanceof ap){if(isNaN(a.h))return new an(a.l,0,0,a.opacity);var h=a.h*c$;return new an(a.l,Math.cos(h)*a.c,Math.sin(h)*a.c,a.opacity)}a instanceof ak||(a=cW(a));var f,g,c=c7(a.r),b=c7(a.g),d=c7(a.b),e=c4((.2225045*c+.7168786*b+.0606169*d)/1);return c===b&&b===d?f=g=e:(f=c4((.4360747*c+.3850649*b+.1430804*d)/.96422),g=c4((.0139322*c+.0971045*b+.7141733*d)/.82521)),new an(116*e-16,500*(f-e),200*(e-g),a.opacity)}function an(a,b,c,d){this.l=+a,this.a=+b,this.b=+c,this.opacity=+d}function c4(a){return a>c2?Math.pow(a,1/3):a/c1+c0}function c5(a){return a>m?a*a*a:c1*(a-c0)}function c6(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function c7(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function ao(a,c,d,b){return 1===arguments.length?function(a){if(a instanceof ap)return new ap(a.h,a.c,a.l,a.opacity);if(a instanceof an||(a=c3(a)),0===a.a&&0===a.b)return new ap(NaN,0,a.l,a.opacity);var b=Math.atan2(a.b,a.a)*c_;return new ap(b<0?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}(a):new ap(a,c,d,null==b?1:b)}function ap(a,b,c,d){this.h=+a,this.c=+b,this.l=+c,this.opacity=+d}function aq(a,c,d,b){return 1===arguments.length?function(a){if(a instanceof ar)return new ar(a.h,a.s,a.l,a.opacity);a instanceof ak||(a=cW(a));var i=a.r/255,f=a.g/255,g=a.b/255,b=-((-0.6557636667999999*g+ -1.7884503806*i-3.5172982438*f)/5.9615122912),c=g-b,d=-((1.97294*(f-b)- -0.29227*c)/.90649),h=Math.sqrt(d*d+c*c)/(1.97294*b*(1-b)),e=h?Math.atan2(d,c)*c_-120:NaN;return new ar(e<0?e+360:e,h,b,a.opacity)}(a):new ar(a,c,d,null==b?1:b)}function ar(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function c8(a,d,e,f,g){var b=a*a,c=b*a;return((1-3*a+3*b-c)*d+(4-6*b+3*c)*e+(1+3*a+3*b-3*c)*f+c*g)/6}f(an,function(a,c,d,b){return 1===arguments.length?c3(a):new an(a,c,d,null==b?1:b)},k(g,{brighter:function(a){return new an(this.l+18*(null==a?1:a),this.a,this.b,this.opacity)},darker:function(a){return new an(this.l-18*(null==a?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?a:a+this.a/500,c=isNaN(this.b)?a:a-this.b/200;return b=.96422*c5(b),a=1*c5(a),c=.82521*c5(c),new ak(c6(3.1338561*b-1.6168667*a-.4906146*c),c6(-0.9787684*b+1.9161415*a+.033454*c),c6(.0719453*b-.2289914*a+1.4052427*c),this.opacity)}})),f(ap,ao,k(g,{brighter:function(a){return new ap(this.h,this.c,this.l+18*(null==a?1:a),this.opacity)},darker:function(a){return new ap(this.h,this.c,this.l-18*(null==a?1:a),this.opacity)},rgb:function(){return c3(this).rgb()}})),f(ar,aq,k(g,{brighter:function(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new ar(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new ar(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var d=isNaN(this.h)?0:(this.h+120)*c$,a=+this.l,b=isNaN(this.s)?0:this.s*a*(1-a),c=Math.cos(d),e=Math.sin(d);return new ak(255*(a+b*(-0.14861*c+1.78277*e)),255*(a+b*(-0.29227*c+ -0.90649*e)),255*(a+b*(1.97294*c)),this.opacity)}}));var c9=function(a){return function(){return a}};function da(a,b){return function(c){return a+c*b}}function r(b,c){var a=c-b;return a?da(b,a>180||a< -180?a-360*Math.round(a/360):a):c9(isNaN(b)?c:b)}function s(a,b){var c=b-a;return c?da(a,c):c9(isNaN(a)?b:a)}var db=function c(d){var a,e=1==(a=+(a=1))?s:function(b,e){var c,f,d;return e-b?(c=b,f=e,c=Math.pow(c,d=a),f=Math.pow(f,d)-c,d=1/d,function(a){return Math.pow(c+a*f,d)}):c9(isNaN(b)?e:b)};function b(a,b){var c=e((a=aj(a)).r,(b=aj(b)).r),d=e(a.g,b.g),f=e(a.b,b.b),g=s(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=d(b),a.b=f(b),a.opacity=g(b),a+""}}return b.gamma=c,b}(1);function D(a){return function(h){var b,c,d=h.length,e=new Array(d),f=new Array(d),g=new Array(d);for(b=0;b<d;++b)c=aj(h[b]),e[b]=c.r||0,f[b]=c.g||0,g[b]=c.b||0;return e=a(e),f=a(f),g=a(g),c.opacity=1,function(a){return c.r=e(a),c.g=f(a),c.b=g(a),c+""}}}D(function(a){var b=a.length-1;return function(d){var c=d<=0?d=0:d>=1?(d=1,b-1):Math.floor(d*b),e=a[c],f=a[c+1],g=c>0?a[c-1]:2*e-f,h=c<b-1?a[c+2]:2*f-e;return c8((d-c/b)*b,g,e,f,h)}}),D(function(a){var b=a.length;return function(d){var c=Math.floor(((d%=1)<0?++d:d)*b),e=a[(c+b-1)%b],f=a[c%b],g=a[(c+1)%b],h=a[(c+2)%b];return c8((d-c/b)*b,e,f,g,h)}});var dc=function(c,b){var a,d=b?b.length:0,e=c?Math.min(d,c.length):0,f=new Array(e),g=new Array(d);for(a=0;a<e;++a)f[a]=di(c[a],b[a]);for(;a<d;++a)g[a]=b[a];return function(b){for(a=0;a<e;++a)g[a]=f[a](b);return g}},dd=function(a,b){var c=new Date;return b-=a=+a,function(d){return c.setTime(a+b*d),c}},de=function(a,b){return b-=a=+a,function(c){return a+b*c}},df=function(c,b){var a,d={},e={};for(a in(null===c||"object"!=typeof c)&&(c={}),(null===b||"object"!=typeof b)&&(b={}),b)a in c?d[a]=di(c[a],b[a]):e[a]=b[a];return function(b){for(a in d)e[a]=d[a](b);return e}},as=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dg=new RegExp(as.source,"g"),dh=function(i,d){var j,k,g,e,c,f=as.lastIndex=dg.lastIndex=0,a=-1,b=[],h=[];for(i+="",d+="";(g=as.exec(i))&&(e=dg.exec(d));)(c=e.index)>f&&(c=d.slice(f,c),b[a]?b[a]+=c:b[++a]=c),(g=g[0])===(e=e[0])?b[a]?b[a]+=e:b[++a]=e:(b[++a]=null,h.push({i:a,x:de(g,e)})),f=dg.lastIndex;return f<d.length&&(c=d.slice(f),b[a]?b[a]+=c:b[++a]=c),b.length<2?h[0]?(j=h[0].x,function(a){return j(a)+""}):(k=d,function(){return k}):(d=h.length,function(e){for(var c,a=0;a<d;++a)b[(c=h[a]).i]=c.x(e);return b.join("")})},di=function(d,a){var c,b=typeof a;return null==a||"boolean"===b?c9(a):("number"===b?de:"string"===b?(c=ai(a))?(a=c,db):dh:a instanceof ai?db:a instanceof Date?dd:Array.isArray(a)?dc:"function"!=typeof a.valueOf&&"function"!=typeof a.toString||isNaN(a)?df:de)(d,a)},dj=180/Math.PI,dk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},dl=function(a,b,d,e,h,i){var f,g,c;return(f=Math.sqrt(a*a+b*b))&&(a/=f,b/=f),(c=a*d+b*e)&&(d-=a*c,e-=b*c),(g=Math.sqrt(d*d+e*e))&&(d/=g,e/=g,c/=g),a*e<b*d&&(a=-a,b=-b,c=-c,f=-f),{translateX:h,translateY:i,rotate:Math.atan2(b,a)*dj,skewX:Math.atan(c)*dj,scaleX:f,scaleY:g}};function E(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}return function(f,g){var i,h,j,p,o,k,l,q,m=[],n=[];return f=a(f),g=a(g),!function(e,f,a,d,g,i){if(e!==a||f!==d){var h=g.push("translate(",null,b,null,c);i.push({i:h-4,x:de(e,a)},{i:h-2,x:de(f,d)})}else(a||d)&&g.push("translate("+a+b+d+c)}(f.translateX,f.translateY,g.translateX,g.translateY,m,n),i=f.rotate,h=g.rotate,j=m,p=n,i!==h?(i-h>180?h+=360:h-i>180&&(i+=360),p.push({i:j.push(e(j)+"rotate(",null,d)-2,x:de(i,h)})):h&&j.push(e(j)+"rotate("+h+d),o=f.skewX,k=g.skewX,l=m,q=n,o!==k?q.push({i:l.push(e(l)+"skewX(",null,d)-2,x:de(o,k)}):k&&l.push(e(l)+"skewX("+k+d),!function(d,f,a,b,c,h){if(d!==a||f!==b){var g=c.push(e(c)+"scale(",null,",",null,")");h.push({i:g-4,x:de(d,a)},{i:g-2,x:de(f,b)})}else(1!==a||1!==b)&&c.push(e(c)+"scale("+a+","+b+")")}(f.scaleX,f.scaleY,g.scaleX,g.scaleY,m,n),f=g=null,function(c){for(var a,b=-1,d=n.length;++b<d;)m[(a=n[b]).i]=a.x(c);return m.join("")}}}var dm=E(function(a){return"none"===a?dk:(ds||(ds=document.createElement("DIV"),dt=document.documentElement,du=document.defaultView),ds.style.transform=a,a=du.getComputedStyle(dt.appendChild(ds),null).getPropertyValue("transform"),dt.removeChild(ds),a=a.slice(7,-1).split(","),dl(+a[0],+a[1],+a[2],+a[3],+a[4],+a[5]))},"px, ","px)","deg)"),dn=E(function(a){return null==a?dk:(dv||(dv=document.createElementNS("http://www.w3.org/2000/svg","g")),dv.setAttribute("transform",a),a=dv.transform.baseVal.consolidate())?dl((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):dk},", ",")",")"),dp=Math.SQRT2;function dq(a){return((a=Math.exp(a))+1/a)/2}var dr=function(e,f){var c,g,m=e[0],n=e[1],a=e[2],o=f[0],p=f[1],b=f[2],j=o-m,k=p-n,d=j*j+k*k;if(d<1e-12)g=Math.log(b/a)/dp,c=function(b){return[m+b*j,n+b*k,a*Math.exp(dp*b*g)]};else{var l=Math.sqrt(d),h=(b*b-a*a+4*d)/(2*a*2*l),i=(b*b-a*a-4*d)/(2*b*2*l),q=Math.log(Math.sqrt(h*h+1)-h);g=(Math.log(Math.sqrt(i*i+1)-i)-q)/dp,c=function(h){var b,c,d=h*g,e=dq(q),f=a/(2*l)*(e*(((b=Math.exp(2*(b=dp*d+q)))-1)/(b+1))-((c=Math.exp(c=q))-1/c)/2);return[m+f*j,n+f*k,a*e/dq(dp*d+q)]}}return c.duration=1e3*g,c};function F(a){return function(b,c){var d=a((b=al(b)).h,(c=al(c)).h),e=s(b.s,c.s),f=s(b.l,c.l),g=s(b.opacity,c.opacity);return function(a){return b.h=d(a),b.s=e(a),b.l=f(a),b.opacity=g(a),b+""}}}function G(a){return function(b,c){var d=a((b=ao(b)).h,(c=ao(c)).h),e=s(b.c,c.c),f=s(b.l,c.l),g=s(b.opacity,c.opacity);return function(a){return b.h=d(a),b.c=e(a),b.l=f(a),b.opacity=g(a),b+""}}}function H(a){return function d(b){function c(c,d){var e=a((c=aq(c)).h,(d=aq(d)).h),f=s(c.s,d.s),g=s(c.l,d.l),h=s(c.opacity,d.opacity);return function(a){return c.h=e(a),c.s=f(a),c.l=g(Math.pow(a,b)),c.opacity=h(a),c+""}}return b=+b,c.gamma=d,c}(1)}F(r),F(s),G(r),G(s),H(r),H(s);var ds,dt,du,dv,dw,dx,dy=0,dz=0,dA=0,dB=0,dC=0,dD=0,dE="object"==typeof performance&&performance.now?performance:Date,dF="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function dG(){return dC||(dF(dH),dC=dE.now()+dD)}function dH(){dC=0}function I(){this._call=this._time=this._next=null}function at(b,c,d){var a=new I;return a.restart(b,c,d),a}function dI(){dC=(dB=dE.now())+dD,dy=dz=0;try{!function(){dG(),++dy;for(var b,a=dw;a;)(b=dC-a._time)>=0&&a._call.call(null,b),a=a._next;--dy}()}finally{dy=0,dK(),dC=0}}function dJ(){var a=dE.now(),b=a-dB;b>1e3&&(dD-=b,dB=a)}function dK(){for(var b,c,a=dw,d=1/0;a;)a._call?(d>a._time&&(d=a._time),b=a,a=a._next):(c=a._next,a._next=null,a=b?b._next=c:dw=c);dx=b,dL(d)}function dL(a){!dy&&(dz&&(dz=clearTimeout(dz)),a-dC>24?(a<1/0&&(dz=setTimeout(dI,a-dE.now()-dD)),dA&&(dA=clearInterval(dA))):(dA||(dB=dE.now(),dA=setInterval(dJ,1e3)),dy=1,dF(dI)))}I.prototype=at.prototype={constructor:I,restart:function(b,c,a){if("function"!=typeof b)throw new TypeError("callback is not a function");a=(null==a?dG():+a)+(null==c?0:+c),this._next||dx===this||(dx?dx._next=this:dw=this,dx=this),this._call=b,this._time=a,dL()},stop:function(){this._call&&(this._call=null,this._time=1/0,dL())}};var dM=function(d,a,c){var b=new I;return a=null==a?0:+a,b.restart(function(c){b.stop(),d(c+a)},a,c),b},dN=ah("start","end","interrupt"),dO=[],dP=function(b,e,c,f,g,a){var d=b.__transition;if(d){if(c in d)return}else b.__transition={};dT(b,c,{name:e,index:f,group:g,on:dN,tween:dO,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})};function dQ(b,c){var a=dS(b,c);if(a.state>0)throw new Error("too late; already scheduled");return a}function dR(b,c){var a=dS(b,c);if(a.state>2)throw new Error("too late; already started");return a}function dS(b,c){var a=b.__transition;if(!a||!(a=a[c]))throw new Error("transition not found");return a}function dT(b,c,a){var e,d=b.__transition;function f(m){var j,k,l,i;if(1!==a.state)return h();for(j in d)if((i=d[j]).name===a.name){if(3===i.state)return dM(f);4===i.state?(i.state=6,i.timer.stop(),i.on.call("interrupt",b,b.__data__,i.index,i.group),delete d[j]):+j<c&&(i.state=6,i.timer.stop(),delete d[j])}if(dM(function(){3===a.state&&(a.state=4,a.timer.restart(g,a.delay,a.time),g(m))}),a.state=2,a.on.call("start",b,b.__data__,a.index,a.group),2===a.state){for(j=0,a.state=3,e=new Array(l=a.tween.length),k=-1;j<l;++j)(i=a.tween[j].value.call(b,b.__data__,a.index,a.group))&&(e[++k]=i);e.length=k+1}}function g(c){for(var f=c<a.duration?a.ease.call(null,c/a.duration):(a.timer.restart(h),a.state=5,1),d=-1,g=e.length;++d<g;)e[d].call(null,f);5===a.state&&(a.on.call("end",b,b.__data__,a.index,a.group),h())}function h(){for(var e in a.state=6,a.timer.stop(),delete d[c],d)return;delete b.__transition}d[c]=a,a.timer=at(function(b){a.state=1,a.timer.restart(f,a.delay,a.time),a.delay<=b&&f(b-a.delay)},0,a.time)}var dU=function(b,c){var a,f,e,d=b.__transition,g=!0;if(d){for(e in c=null==c?null:c+"",d){if((a=d[e]).name!==c){g=!1;continue}f=a.state>2&&a.state<5,a.state=6,a.timer.stop(),f&&a.on.call("interrupt",b,b.__data__,a.index,a.group),delete d[e]}g&&delete b.__transition}};function dV(a,b){var c,d;return function(){var f=dR(this,a),g=f.tween;if(g!==c){d=c=g;for(var e=0,h=d.length;e<h;++e)if(d[e].name===b){(d=d.slice()).splice(e,1);break}}f.tween=d}}function dW(b,c,a){var d,e;if("function"!=typeof a)throw new Error;return function(){var g=dR(this,b),h=g.tween;if(h!==d){e=(d=h).slice();for(var i={name:c,value:a},f=0,j=e.length;f<j;++f)if(e[f].name===c){e[f]=i;break}f===j&&e.push(i)}g.tween=e}}function dX(a,b,c){var d=a._id;return a.each(function(){var a=dR(this,d);(a.value||(a.value={}))[b]=c.apply(this,arguments)}),function(a){return dS(a,d).value[b]}}var dY=function(c,a){var b;return("number"==typeof a?de:a instanceof ai?db:(b=ai(a))?(a=b,db):dh)(c,a)};function dZ(a){return function(){this.removeAttribute(a)}}function d$(a){return function(){this.removeAttributeNS(a.space,a.local)}}function d_(a,b,c){var d,e;return function(){var f=this.getAttribute(a);return f===c?null:f===d?e:e=b(d=f,c)}}function d0(a,b,c){var d,e;return function(){var f=this.getAttributeNS(a.space,a.local);return f===c?null:f===d?e:e=b(d=f,c)}}function d1(a,b,c){var d,e,f;return function(){var h,g=c(this);return null==g?void this.removeAttribute(a):(h=this.getAttribute(a))===g?null:h===d&&g===e?f:f=b(d=h,e=g)}}function d2(a,b,c){var d,e,f;return function(){var h,g=c(this);return null==g?void this.removeAttributeNS(a.space,a.local):(h=this.getAttributeNS(a.space,a.local))===g?null:h===d&&g===e?f:f=b(d=h,e=g)}}function d3(c,b){function a(){var a=this,d=b.apply(a,arguments);return d&&function(b){a.setAttributeNS(c.space,c.local,d(b))}}return a._value=b,a}function d4(c,b){function a(){var a=this,d=b.apply(a,arguments);return d&&function(b){a.setAttribute(c,d(b))}}return a._value=b,a}function d5(a,b){return function(){dQ(this,a).delay=+b.apply(this,arguments)}}function d6(b,a){return a=+a,function(){dQ(this,b).delay=a}}function d7(a,b){return function(){dR(this,a).duration=+b.apply(this,arguments)}}function d8(b,a){return a=+a,function(){dR(this,b).duration=a}}var d9=n.prototype.constructor,ea=0;function J(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}function au(a){return n().transition(a)}function eb(){return++ea}var i=n.prototype;J.prototype=au.prototype={constructor:J,select:function(c){var i=this._name,e=this._id;"function"!=typeof c&&(c=a$(c));for(var j=this._groups,k=j.length,l=new Array(k),d=0;d<k;++d)for(var b,f,g=j[d],m=g.length,h=l[d]=new Array(m),a=0;a<m;++a)(b=g[a])&&(f=c.call(b,b.__data__,a,g))&&("__data__"in b&&(f.__data__=b.__data__),h[a]=f,dP(h[a],i,e,a,h,dS(b,e)));return new J(l,this._parents,i,e)},selectAll:function(b){var i=this._name,f=this._id;"function"!=typeof b&&(b=a0(b));for(var j=this._groups,n=j.length,k=[],l=[],g=0;g<n;++g)for(var a,h=j[g],o=h.length,c=0;c<o;++c)if(a=h[c]){for(var m,d=b.call(a,a.__data__,c,h),p=dS(a,f),e=0,q=d.length;e<q;++e)(m=d[e])&&dP(m,i,f,e,d,p);k.push(d),l.push(a)}return new J(k,l,i,f)},filter:function(a){"function"!=typeof a&&(a=a1(a));for(var f=this._groups,g=f.length,h=new Array(g),b=0;b<g;++b)for(var c,e=f[b],i=e.length,j=h[b]=[],d=0;d<i;++d)(c=e[d])&&a.call(c,c.__data__,d,e)&&j.push(c);return new J(h,this._parents,this._name,this._id)},merge:function(f){if(f._id!==this._id)throw new Error;for(var c=this._groups,g=f._groups,d=c.length,k=g.length,l=Math.min(d,k),e=new Array(d),a=0;a<l;++a)for(var h,i=c[a],m=g[a],j=i.length,n=e[a]=new Array(j),b=0;b<j;++b)(h=i[b]||m[b])&&(n[b]=h);for(;a<d;++a)e[a]=c[a];return new J(e,this._parents,this._name,this._id)},selection:function(){return new d9(this._groups,this._parents)},transition:function(){for(var g=this._name,i=this._id,h=eb(),c=this._groups,j=c.length,d=0;d<j;++d)for(var e,f=c[d],k=f.length,b=0;b<k;++b)if(e=f[b]){var a=dS(e,i);dP(e,g,h,b,f,{time:a.time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease})}return new J(c,this._parents,g,h)},call:i.call,nodes:i.nodes,node:i.node,size:i.size,empty:i.empty,each:i.each,on:function(a,d){var e,b,f,h,i,j,g,c=this._id;return arguments.length<2?dS(this.node(),c).on.on(a):this.each((e=c,b=a,f=d,g=(b+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");return b>=0&&(a=a.slice(0,b)),!a||"start"===a})?dQ:dR,function(){var a=g(this,e),c=a.on;c!==i&&(j=(i=c).copy()).on(b,f),a.on=j}))},attr:function(c,b){var a=aV(c),d="transform"===a?dn:dY;return this.attrTween(c,"function"==typeof b?(a.local?d2:d1)(a,d,dX(this,"attr."+c,b)):null==b?(a.local?d$:dZ)(a):(a.local?d0:d_)(a,d,b+""))},attrTween:function(c,b){var a="attr."+c;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==b)return this.tween(a,null);if("function"!=typeof b)throw new Error;var d=aV(c);return this.tween(a,(d.local?d3:d4)(d,b))},style:function(a,b,d){var e,f,n,o,p,g,h,i,j,q,r,s,k,l,m,t,u,c="transform"==(a+="")?dm:dY;return null==b?this.styleTween(a,(e=a,f=c,function(){var a=bg(this,e),b=(this.style.removeProperty(e),bg(this,e));return a===b?null:a===n&&b===o?p:p=f(n=a,o=b)})).on("end.style."+a,(g=a,function(){this.style.removeProperty(g)})):this.styleTween(a,"function"==typeof b?(h=a,i=c,j=dX(this,"style."+a,b),function(){var b=bg(this,h),a=j(this);return null==a&&(a=(this.style.removeProperty(h),bg(this,h))),b===a?null:b===q&&a===r?s:s=i(q=b,r=a)}):(k=a,l=c,m=b+"",function(){var a=bg(this,k);return a===m?null:a===t?u:u=l(t=a,m)}),d)},styleTween:function(c,b,d){var a="style."+(c+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==b)return this.tween(a,null);if("function"!=typeof b)throw new Error;return this.tween(a,function(c,b,d){function a(){var a=this,e=b.apply(a,arguments);return e&&function(b){a.style.setProperty(c,e(b),d)}}return a._value=b,a}(c,b,null==d?"":d))},text:function(a){var b,c;return this.tween("text","function"==typeof a?(b=dX(this,"text",a),function(){var a=b(this);this.textContent=null==a?"":a}):(c=null==a?"":a+"",function(){this.textContent=c}))},remove:function(){var a;return this.on("end.remove",(a=this._id,function(){var b=this.parentNode;for(var c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}))},tween:function(a,c){var d=this._id;if(a+="",arguments.length<2){for(var e,f=dS(this.node(),d).tween,b=0,g=f.length;b<g;++b)if((e=f[b]).name===a)return e.value;return null}return this.each((null==c?dV:dW)(d,a,c))},delay:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?d5:d6)(b,a)):dS(this.node(),b).delay},duration:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?d7:d8)(b,a)):dS(this.node(),b).duration},ease:function(b){var a=this._id;return arguments.length?this.each(function(b,a){if("function"!=typeof a)throw new Error;return function(){dR(this,b).ease=a}}(a,b)):dS(this.node(),a).ease}},function c(a){function b(b){return Math.pow(b,a)}return a=+a,b.exponent=c,b}(3),function c(a){function b(b){return 1-Math.pow(1-b,a)}return a=+a,b.exponent=c,b}(3),function c(a){function b(b){return((b*=2)<=1?Math.pow(b,a):2-Math.pow(2-b,a))/2}return a=+a,b.exponent=c,b}(3);var ec=4/11;(function c(a){function b(b){return b*b*((a+1)*b-a)}return a=+a,b.overshoot=c,b})(1.70158),function c(a){function b(b){return--b*b*((a+1)*b+a)+1}return a=+a,b.overshoot=c,b}(1.70158),function c(a){function b(b){return((b*=2)<1?b*b*((a+1)*b-a):(b-=2)*b*((a+1)*b+a)+2)/2}return a=+a,b.overshoot=c,b}(1.70158);var ed=2*Math.PI;(function d(b,c){var e=Math.asin(1/(b=Math.max(1,b)))*(c/=ed);function a(a){return b*Math.pow(2,10* --a)*Math.sin((e-a)/c)}return a.amplitude=function(a){return d(a,c*ed)},a.period=function(a){return d(b,a)},a})(1,.3),function d(b,c){var e=Math.asin(1/(b=Math.max(1,b)))*(c/=ed);function a(a){return 1-b*Math.pow(2,-10*(a=+a))*Math.sin((a+e)/c)}return a.amplitude=function(a){return d(a,c*ed)},a.period=function(a){return d(b,a)},a}(1,.3),function d(b,c){var e=Math.asin(1/(b=Math.max(1,b)))*(c/=ed);function a(a){return((a=2*a-1)<0?b*Math.pow(2,10*a)*Math.sin((e-a)/c):2-b*Math.pow(2,-10*a)*Math.sin((e+a)/c))/2}return a.amplitude=function(a){return d(a,c*ed)},a.period=function(a){return d(b,a)},a}(1,.3);var ee={time:null,delay:0,duration:250,ease:function(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}};function ef(b,c){for(var a;!(a=b.__transition)||!(a=a[c]);)if(!(b=b.parentNode))return ee.time=dG(),ee;return a}n.prototype.interrupt=function(a){return this.each(function(){dU(this,a)})},n.prototype.transition=function(a){var b,h;a instanceof J?(b=a._id,a=a._name):(b=eb(),(h=ee).time=dG(),a=null==a?null:a+"");for(var d=this._groups,i=d.length,e=0;e<i;++e)for(var f,g=d[e],j=g.length,c=0;c<j;++c)(f=g[c])&&dP(f,a,b,c,g,h||ef(f,b));return new J(d,this._parents,a,b)};var eg=function(a){return function(){return a}};function eh(a,b,c){this.target=a,this.type=b,this.transform=c}function o(a,b,c){this.k=a,this.x=b,this.y=c}o.prototype={constructor:o,scale:function(a){return 1===a?this:new o(this.k*a,this.x,this.y)},translate:function(a,b){return 0===a&0===b?this:new o(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ei=new o(1,0,0);function av(a){return a.__zoom||ei}function ej(){ad.stopImmediatePropagation()}av.prototype=o.prototype;var ek=function(){ad.preventDefault(),ad.stopImmediatePropagation()};function el(){return!ad.button}function em(){var b,c,a=this;return a instanceof SVGElement?(b=(a=a.ownerSVGElement||a).width.baseVal.value,c=a.height.baseVal.value):(b=a.clientWidth,c=a.clientHeight),[[0,0],[b,c]]}function en(){return this.__zoom||ei}function eo(){return-ad.deltaY*(ad.deltaMode?120:1)/500}function ep(){return"ontouchstart"in this}function eq(a,b,c){var d=a.invertX(b[0][0])-c[0][0],e=a.invertX(b[1][0])-c[1][0],f=a.invertY(b[0][1])-c[0][1],g=a.invertY(b[1][1])-c[1][1];return a.translate(e>d?(d+e)/2:Math.min(0,d)||Math.max(0,e),g>f?(f+g)/2:Math.min(0,f)||Math.max(0,g))}var er=function(){var c,d,e=el,f=em,g=eq,h=eo,i=ep,j=[0,1/0],k=[[-1/0,-1/0],[1/0,1/0]],l=250,m=dr,n=[],p=ah("start","zoom","end"),q=0;function a(a){a.property("__zoom",en).on("wheel.zoom",w).on("mousedown.zoom",x).on("dblclick.zoom",y).filter(i).on("touchstart.zoom",z).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",B).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function r(a,b){return(b=Math.max(j[0],Math.min(j[1],b)))===a.k?a:new o(b,a.x,a.y)}function s(a,b,c){var d=b[0]-c[0]*a.k,e=b[1]-c[1]*a.k;return d===a.x&&e===a.y?a:new o(a.k,d,e)}function t(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function u(a,b,c){a.on("start.zoom",function(){v(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){v(this,arguments).end()}).tween("zoom",function(){var d=arguments,j=v(this,d),a=f.apply(this,d),e=c||t(a),g=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),h=this.__zoom,i="function"==typeof b?b.apply(this,d):b,k=m(h.invert(e).concat(g/h.k),i.invert(e).concat(g/i.k));return function(a){if(1===a)a=i;else{var b=k(a),c=g/b[2];a=new o(c,e[0]-b[0]*c,e[1]-b[1]*c)}j.zoom(null,a)}})}function v(c,e){for(var d,a=0,f=n.length;a<f;++a)if((d=n[a]).that===c)return d;return new b(c,e)}function b(a,b){this.that=a,this.args=b,this.index=-1,this.active=0,this.extent=f.apply(a,b)}function w(){if(e.apply(this,arguments)){var a=v(this,arguments),b=this.__zoom,d=Math.max(j[0],Math.min(j[1],b.k*Math.pow(2,h.apply(this,arguments)))),c=bO(this);if(a.wheel)(a.mouse[0][0]!==c[0]||a.mouse[0][1]!==c[1])&&(a.mouse[1]=b.invert(a.mouse[0]=c)),clearTimeout(a.wheel);else{if(b.k===d)return;a.mouse=[c,b.invert(c)],dU(this),a.start()}ek(),a.wheel=setTimeout(function(){a.wheel=null,a.end()},150),a.zoom("mouse",g(s(r(b,d),a.mouse[0],a.mouse[1]),a.extent,k))}}function x(){if(!d&&e.apply(this,arguments)){var a=v(this,arguments),c=ae(ad.view).on("mousemove.zoom",function(){if(ek(),!a.moved){var b=ad.clientX-f,c=ad.clientY-h;a.moved=b*b+c*c>q}a.zoom("mouse",g(s(a.that.__zoom,a.mouse[0]=bO(a.that),a.mouse[1]),a.extent,k))},!0).on("mouseup.zoom",function(){var d,f,b,e;c.on("mousemove.zoom mouseup.zoom",null),d=ad.view,f=a.moved,b=d.document.documentElement,e=ae(d).on("dragstart.drag",null),f&&(e.on("click.drag",cJ,!0),setTimeout(function(){e.on("click.drag",null)},0)),"onselectstart"in b?e.on("selectstart.drag",null):(b.style.MozUserSelect=b.__noselect,delete b.__noselect),ek(),a.end()},!0),b=bO(this),f=ad.clientX,h=ad.clientY;cK(ad.view),ej(),a.mouse=[b,this.__zoom.invert(b)],dU(this),a.start()}}function y(){if(e.apply(this,arguments)){var b=this.__zoom,c=bO(this),h=b.invert(c),i=b.k*(ad.shiftKey?.5:2),d=g(s(r(b,i),c,h),f.apply(this,arguments),k);ek(),l>0?ae(this).transition().duration(l).call(u,d,c):ae(this).call(a.transform,d)}}function z(){if(e.apply(this,arguments)){var h,d,f,a,b=v(this,arguments),g=ad.changedTouches,i=g.length;for(ej(),d=0;d<i;++d)f=g[d],a=[a=bP(this,g,f.identifier),this.__zoom.invert(a),f.identifier],b.touch0?b.touch1||(b.touch1=a):(b.touch0=a,h=!0);if(c&&(c=clearTimeout(c),!b.touch1)){b.end(),(a=ae(this).on("dblclick.zoom"))&&a.apply(this,arguments);return}h&&(c=setTimeout(function(){c=null},500),dU(this),b.start())}}function A(){var h,b,d,n,a=v(this,arguments),o=ad.changedTouches,p=o.length;for(ek(),c&&(c=clearTimeout(c)),h=0;h<p;++h)b=o[h],d=bP(this,o,b.identifier),a.touch0&&a.touch0[2]===b.identifier?a.touch0[0]=d:a.touch1&&a.touch1[2]===b.identifier&&(a.touch1[0]=d);if(b=a.that.__zoom,a.touch1){var i=a.touch0[0],j=a.touch0[1],l=a.touch1[0],m=a.touch1[1],e=(e=l[0]-i[0])*e+(e=l[1]-i[1])*e,f=(f=m[0]-j[0])*f+(f=m[1]-j[1])*f;b=r(b,Math.sqrt(e/f)),d=[(i[0]+l[0])/2,(i[1]+l[1])/2],n=[(j[0]+m[0])/2,(j[1]+m[1])/2]}else{if(!a.touch0)return;d=a.touch0[0],n=a.touch0[1]}a.zoom("touch",g(s(b,d,n),a.extent,k))}function B(){var b,c,a=v(this,arguments),e=ad.changedTouches,f=e.length;for(ej(),d&&clearTimeout(d),d=setTimeout(function(){d=null},500),b=0;b<f;++b)c=e[b],a.touch0&&a.touch0[2]===c.identifier?delete a.touch0:a.touch1&&a.touch1[2]===c.identifier&&delete a.touch1;a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0?a.touch0[1]=this.__zoom.invert(a.touch0[0]):a.end()}return a.transform=function(a,c){var b=a.selection?a.selection():a;b.property("__zoom",en),a!==b?u(a,c):b.interrupt().each(function(){v(this,arguments).start().zoom(null,"function"==typeof c?c.apply(this,arguments):c).end()})},a.scaleBy=function(b,c){a.scaleTo(b,function(){var a=this.__zoom.k,b="function"==typeof c?c.apply(this,arguments):c;return a*b})},a.scaleTo=function(b,c){a.transform(b,function(){var a=f.apply(this,arguments),b=this.__zoom,d=t(a),e=b.invert(d),h="function"==typeof c?c.apply(this,arguments):c;return g(s(r(b,h),d,e),a,k)})},a.translateBy=function(b,c,d){a.transform(b,function(){return g(this.__zoom.translate("function"==typeof c?c.apply(this,arguments):c,"function"==typeof d?d.apply(this,arguments):d),f.apply(this,arguments),k)})},a.translateTo=function(b,c,d){a.transform(b,function(){var a=f.apply(this,arguments),e=this.__zoom,b=t(a);return g(ei.translate(b[0],b[1]).scale(e.k).translate("function"==typeof c?-c.apply(this,arguments):-c,"function"==typeof d?-d.apply(this,arguments):-d),a,k)})},b.prototype={start:function(){return 1== ++this.active&&(this.index=n.push(this)-1,this.emit("start")),this},zoom:function(b,a){return this.mouse&&"mouse"!==b&&(this.mouse[1]=a.invert(this.mouse[0])),this.touch0&&"touch"!==b&&(this.touch0[1]=a.invert(this.touch0[0])),this.touch1&&"touch"!==b&&(this.touch1[1]=a.invert(this.touch1[0])),this.that.__zoom=a,this.emit("zoom"),this},end:function(){return 0== --this.active&&(n.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(b){(function(a,b,c,d){var e=ad;a.sourceEvent=ad,ad=a;try{return b.apply(c,d)}finally{ad=e}})(new eh(a,b,this.that.__zoom),p.apply,p,[b,this.that,this.args])}},a.wheelDelta=function(_){return arguments.length?(h="function"==typeof _?_:eg(+_),a):h},a.filter=function(_){return arguments.length?(e="function"==typeof _?_:eg(!!_),a):e},a.touchable=function(_){return arguments.length?(i="function"==typeof _?_:eg(!!_),a):i},a.extent=function(_){return arguments.length?(f="function"==typeof _?_:eg([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),a):f},a.scaleExtent=function(_){return arguments.length?(j[0]=+_[0],j[1]=+_[1],a):[j[0],j[1]]},a.translateExtent=function(_){return arguments.length?(k[0][0]=+_[0][0],k[1][0]=+_[1][0],k[0][1]=+_[0][1],k[1][1]=+_[1][1],a):[[k[0][0],k[0][1]],[k[1][0],k[1][1]]]},a.constrain=function(_){return arguments.length?(g=_,a):g},a.duration=function(_){return arguments.length?(l=+_,a):l},a.interpolate=function(_){return arguments.length?(m=_,a):m},a.on=function(){var b=p.on.apply(p,arguments);return b===p?a:b},a.clickDistance=function(_){return arguments.length?(q=(_=+_)*_,a):Math.sqrt(q)},a},aw=Math.PI,ax=2*aw,es=ax-1e-6;function K(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function L(){return new K}K.prototype=L.prototype={constructor:K,moveTo:function(a,b){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(a,b){this._+="L"+(this._x1=+a)+","+(this._y1=+b)},quadraticCurveTo:function(a,b,c,d){this._+="Q"+ +a+","+ +b+","+(this._x1=+c)+","+(this._y1=+d)},bezierCurveTo:function(a,b,c,d,e,f){this._+="C"+ +a+","+ +b+","+ +c+","+ +d+","+(this._x1=+e)+","+(this._y1=+f)},arcTo:function(a,b,f,g,c){a=+a,b=+b,f=+f,g=+g,c=+c;var n=this._x1,o=this._y1,h=f-a,i=g-b,d=n-a,e=o-b,j=d*d+e*e;if(c<0)throw new Error("negative radius: "+c);if(null===this._x1)this._+="M"+(this._x1=a)+","+(this._y1=b);else if(j>1e-6){if(Math.abs(e*h-i*d)>1e-6&&c){var k=f-n,l=g-o,p=h*h+i*i,q=Math.sqrt(p),r=Math.sqrt(j),s=c*Math.tan((aw-Math.acos((p+j-(k*k+l*l))/(2*q*r)))/2),m=s/r,t=s/q;Math.abs(m-1)>1e-6&&(this._+="L"+(a+m*d)+","+(b+m*e)),this._+="A"+c+","+c+",0,0,"+ +(e*k>d*l)+","+(this._x1=a+t*h)+","+(this._y1=b+t*i)}else this._+="L"+(this._x1=a)+","+(this._y1=b)}},arc:function(c,d,a,e,f,j){var k=(a=+a)*Math.cos(e),l=a*Math.sin(e),g=(c=+c)+k,h=(d=+d)+l,i=1^j,b=j?e-f:f-e;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+g+","+h:(Math.abs(this._x1-g)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+g+","+h),a&&(b<0&&(b=b%ax+ax),b>es?this._+="A"+a+","+a+",0,1,"+i+","+(c-k)+","+(d-l)+"A"+a+","+a+",0,1,"+i+","+(this._x1=g)+","+(this._y1=h):b>1e-6&&(this._+="A"+a+","+a+",0,"+ +(b>=aw)+","+i+","+(this._x1=c+a*Math.cos(f))+","+(this._y1=d+a*Math.sin(f))))},rect:function(b,c,a,d){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+c)+"h"+ +a+"v"+ +d+"h"+ -a+"Z"},toString:function(){return this._}};var et=L,eu=function(a){return function(){return a}},ev=Math.PI;function ay(a){this._context=a}ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}};var az=function(a){return new ay(a)};function ew(a){return a[0]}function ex(a){return a[1]}function aA(a){this._curve=a}!function c(b){function a(a){return new aA(b(a))}return a._curve=b,a}(az),aA.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,b){this._curve.point(b*Math.sin(a),-(b*Math.cos(a)))}};var ey=Array.prototype.slice;function ez(a){return a.source}function eA(a){return a.target}function eB(b,a,c,d,e){b.moveTo(a,c),b.bezierCurveTo(a=(a+d)/2,c,a,e,d,e)}var d=function(){};function eC(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function aB(a){this._context=a}function aC(a,b){this._basis=new aB(a),this._beta=b}function eD(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function aD(a,b){this._context=a,this._k=(1-b)/6}function aE(a,b){this._context=a,this._k=(1-b)/6}function aF(a,b){this._context=a,this._k=(1-b)/6}function eE(a,j,k){var b=a._x1,c=a._y1,d=a._x2,e=a._y2;if(a._l01_a>1e-12){var f=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,g=3*a._l01_a*(a._l01_a+a._l12_a);b=(b*f-a._x0*a._l12_2a+a._x2*a._l01_2a)/g,c=(c*f-a._y0*a._l12_2a+a._y2*a._l01_2a)/g}if(a._l23_a>1e-12){var h=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,i=3*a._l23_a*(a._l23_a+a._l12_a);d=(d*h+a._x1*a._l23_2a-j*a._l12_2a)/i,e=(e*h+a._y1*a._l23_2a-k*a._l12_2a)/i}a._context.bezierCurveTo(b,c,d,e,a._x2,a._y2)}function aG(a,b){this._context=a,this._alpha=b}function aH(a,b){this._context=a,this._alpha=b}function aI(a,b){this._context=a,this._alpha=b}function eF(a){return a<0?-1:1}function eG(a,f,g){var b=a._x1-a._x0,c=f-a._x1,d=(a._y1-a._y0)/(b||c<0&& -0),e=(g-a._y1)/(c||b<0&& -0);return(eF(d)+eF(e))*Math.min(Math.abs(d),Math.abs(e),.5*Math.abs((d*c+e*b)/(b+c)))||0}function eH(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function eI(a,f,g){var d=a._x0,h=a._y0,c=a._x1,e=a._y1,b=(c-d)/3;a._context.bezierCurveTo(d+b,h+b*f,c-b,e-b*g,c,e)}function M(a){this._context=a}function aJ(a){this._context=a}function eJ(e){var a,g,b=e.length-1,c=new Array(b),d=new Array(b),f=new Array(b);for(c[0]=0,d[0]=2,f[0]=e[0]+2*e[1],a=1;a<b-1;++a)c[a]=1,d[a]=4,f[a]=4*e[a]+2*e[a+1];for(c[b-1]=2,d[b-1]=7,f[b-1]=8*e[b-1]+e[b],a=1;a<b;++a)g=c[a]/d[a-1],d[a]-=g,f[a]-=g*f[a-1];for(c[b-1]=f[b-1]/d[b-1],a=b-2;a>=0;--a)c[a]=(f[a]-c[a+1])/d[a];for(a=0,d[b-1]=(e[b]+c[b-1])/2;a<b-1;++a)d[a]=2*e[a+1]-c[a+1];return[c,d]}aB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eC(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},(function(a){this._context=a}).prototype={areaStart:d,areaEnd:d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._x2=a,this._y2=b;break;case 1:this._point=2,this._x3=a,this._y3=b;break;case 2:this._point=3,this._x4=a,this._y4=b,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:eC(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},(function(a){this._context=a}).prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=4;default:eC(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},aC.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var b=this._x,d=this._y,a=b.length-1;if(a>0)for(var e,f=b[0],g=d[0],h=b[a]-f,i=d[a]-g,c=-1;++c<=a;)e=c/a,this._basis.point(this._beta*b[c]+(1-this._beta)*(f+e*h),this._beta*d[c]+(1-this._beta)*(g+e*i));this._x=this._y=null,this._basis.lineEnd()},point:function(a,b){this._x.push(+a),this._y.push(+b)}},function b(c){function a(a){return 1===c?new aB(a):new aC(a,c)}return a.beta=function(a){return b(+a)},a}(.85),aD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:eD(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2,this._x1=a,this._y1=b;break;case 2:this._point=3;default:eD(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},function b(c){function a(a){return new aD(a,0)}return a.tension=function(a){return b(+a)},a}(0),aE.prototype={areaStart:d,areaEnd:d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:eD(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},function b(c){function a(a){return new aE(a,0)}return a.tension=function(a){return b(+a)},a}(0),aF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:eD(this,a,b)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},function b(c){function a(a){return new aF(a,0)}return a.tension=function(a){return b(+a)},a}(0),aG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;default:eE(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},function b(c){function a(a){return c?new aG(a,c):new aD(a,0)}return a.alpha=function(a){return b(+a)},a}(.5),aH.prototype={areaStart:d,areaEnd:d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:eE(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},function b(c){function a(a){return c?new aH(a,c):new aE(a,0)}return a.alpha=function(a){return b(+a)},a}(.5),aI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:eE(this,a,b)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}},function b(c){function a(a){return c?new aI(a,c):new aF(a,0)}return a.alpha=function(a){return b(+a)},a}(.5),(function(a){this._context=a}).prototype={areaStart:d,areaEnd:d,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,b){a=+a,b=+b,this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}},M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eI(this,this._t0,eH(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(b,a){var c=NaN;if(a=+a,(b=+b)!==this._x1||a!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(b,a):this._context.moveTo(b,a);break;case 1:this._point=2;break;case 2:this._point=3,eI(this,eH(this,c=eG(this,b,a)),c);break;default:eI(this,this._t0,c=eG(this,b,a))}this._x0=this._x1,this._x1=b,this._y0=this._y1,this._y1=a,this._t0=c}}},((function(a){this._context=new aJ(a)}).prototype=Object.create(M.prototype)).point=function(a,b){M.prototype.point.call(this,b,a)},aJ.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}},(function(a){this._context=a}).prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,b=this._y,d=a.length;if(d){if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===d)this._context.lineTo(a[1],b[1]);else for(var f=eJ(a),g=eJ(b),c=0,e=1;e<d;++c,++e)this._context.bezierCurveTo(f[0][c],g[0][c],f[1][c],g[1][c],a[e],b[e])}(this._line||0!==this._line&&1===d)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,b){this._x.push(+a),this._y.push(+b)}},(function(a,b){this._context=a,this._t=b}).prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(b,a){switch(b=+b,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(b,a):this._context.moveTo(b,a);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,a),this._context.lineTo(b,a);else{var c=this._x*(1-this._t)+b*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,a)}}this._x=b,this._y=a}};function eK(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var eL=function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){eK(d,a,c[a])})}return d}({select:ae,selectAll:function(a){return"string"==typeof a?new x([document.querySelectorAll(a)],[document.documentElement]):new x([null==a?[]:a],bK)},get event(){return ad},linkHorizontal:function(){return function(b){var c=ez,d=eA,e=ew,f=ex,g=null;function a(){var h,a=ey.call(arguments),i=c.apply(this,a),j=d.apply(this,a);if(g||(g=h=et()),b(g,+e.apply(this,(a[0]=i,a)),+f.apply(this,a),+e.apply(this,(a[0]=j,a)),+f.apply(this,a)),h)return g=null,h+""||null}return a.source=function(_){return arguments.length?(c=_,a):c},a.target=function(_){return arguments.length?(d=_,a):d},a.x=function(_){return arguments.length?(e="function"==typeof _?_:eu(+_),a):e},a.y=function(_){return arguments.length?(f="function"==typeof _?_:eu(+_),a):f},a.context=function(_){return arguments.length?(g=null==_?null:_,a):g},a}(eB)}},b,j),eM=function(c,a){a=Object.assign({"font-size":10,"font-family":"sans-serif","font-style":"normal","font-weight":400,"font-variant":"normal"},a);var d=document.createElement("canvas").getContext("2d"),b=[];return(b.push(a["font-style"]),b.push(a["font-variant"]),b.push(a["font-weight"]),b.push("string"==typeof a["font-size"]?a["font-size"]:a["font-size"]+"px"),b.push(a["font-family"]),d.font=b.join(" "),c instanceof Array)?c.map(function(a){return d.measureText(a).width}):d.measureText(c).width};function eN(a){return a.replace(/\s+$/,"")}var aK,t,eO="abcdefghiABCDEFGHI_!@#$%^&*()_+1234567890",eP={},eQ=function(b){aQ||(aQ=eM(eO,{"font-family":"DejaVuSans","font-size":32}),aR=eM(eO,{"font-family":"-apple-system","font-size":32}),aS=eM(eO,{"font-family":"monospace","font-size":32}),aT=eM(eO,{"font-family":"sans-serif","font-size":32})),b instanceof Array||(b=b.split(",")),b=b.map(function(a){var b;return a.replace(/^\s+|\s+$/g,"")});for(var d=0;d<b.length;d++){var a=b[d];if(eP[a]||["-apple-system","monospace","sans-serif","DejaVuSans"].includes(a))return a;if(!1!==eP[a]){var c=eM(eO,{"font-family":a,"font-size":32});if(eP[a]=c!==aS,eP[a]&&(eP[a]=c!==aT),aR&&eP[a]&&(eP[a]=c!==aR),aQ&&eP[a]&&(eP[a]=c!==aQ),eP[a])return a}}return!1},eR=function(a){return void 0===a?a="undefined":"string"==typeof a||a instanceof String||(a=JSON.stringify(a)),a},eS=[[/[\300-\305]/g,"A"],[/[\340-\345]/g,"a"],[/[\306]/g,"AE"],[/[\346]/g,"ae"],[/[\337]/g,"B"],[/[\307]/g,"C"],[/[\347]/g,"c"],[/[\320\336\376]/g,"D"],[/[\360]/g,"d"],[/[\310-\313]/g,"E"],[/[\350-\353]/g,"e"],[/[\314-\317]/g,"I"],[/[\354-\357]/g,"i"],[/[\321]/g,"N"],[/[\361]/g,"n"],[/[\322-\326\330]/g,"O"],[/[\362-\366\370]/g,"o"],[/[\331-\334]/g,"U"],[/[\371-\374]/g,"u"],[/[\327]/g,"x"],[/[\335]/g,"Y"],[/[\375\377]/g,"y"]],aL=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},N=(1===(t=aL).length&&(t=(aK=t,function(a,b){return aL(aK(a),b)})),{left:function(d,e,a,b){for(null==a&&(a=0),null==b&&(b=d.length);a<b;){var c=a+b>>>1;0>t(d[c],e)?a=c+1:b=c}return a},right:function(d,e,a,b){for(null==a&&(a=0),null==b&&(b=d.length);a<b;){var c=a+b>>>1;t(d[c],e)>0?b=c:a=c+1}return a}});N.right,N.left;var eT=function(a){return null===a?NaN:+a},O=Array.prototype,eU=(O.slice,O.map,function(c,f){var a,d,e=c.length,b=-1;if(null==f){for(;++b<e;)if(null!=(a=c[b])&&a>=a)for(d=a;++b<e;)null!=(a=c[b])&&a>d&&(d=a)}else for(;++b<e;)if(null!=(a=f(c[b],b,c))&&a>=a)for(d=a;++b<e;)null!=(a=f(c[b],b,c))&&a>d&&(d=a);return d}),eV=function(a){for(var b,c,f,d=a.length,g=-1,e=0;++g<d;)e+=a[g].length;for(c=new Array(e);--d>=0;)for(b=(f=a[d]).length;--b>=0;)c[--e]=f[b];return c},eW=function(c,f){var a,d,e=c.length,b=-1;if(null==f){for(;++b<e;)if(null!=(a=c[b])&&a>=a)for(d=a;++b<e;)null!=(a=c[b])&&d>a&&(d=a)}else for(;++b<e;)if(null!=(a=f(c[b],b,c))&&a>=a)for(d=a;++b<e;)null!=(a=f(c[b],b,c))&&d>a&&(d=a);return d},eX=function(b,e){var c,f=b.length,a=-1,d=0;if(null==e)for(;++a<f;)(c=+b[a])&&(d+=c);else for(;++a<f;)(c=+e(b[a],a,b))&&(d+=c);return d},eY=function(b,a){return void 0===a?function(a){return a[b]}:function(c){return void 0===c[b]?a:c[b]}},eZ=function(a){return!(!a||"object"!=typeof a||"undefined"!=typeof window&&(a===window||a===window.document||a instanceof Element)||Array.isArray(a))};function aM(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];for(var d=a[0],c=1;c<a.length;c++)!function(b){var c=a[b];Object.keys(c).forEach(function(a){var e,b=c[a];eZ(b)&&(e=b,"undefined"==typeof window||e!==window&&e!==document)?d.hasOwnProperty(a)&&eZ(d[a])?d[a]=aM({},d[a],b):d[a]=aM({},b):Array.isArray(b)?d[a]=b.slice():d[a]=b})}(c);return d}var e$=aM;function e_(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}var e0="D3PLUS-COMMON-RESET";function e1(a,c){if(eZ(a)){for(var b in a)if(({}).hasOwnProperty.call(a,b)&&!b.startsWith("_")){var d=c&&eZ(c)?c[b]:void 0;a[b]===e0?a[b]=d:eZ(a[b])&&e1(a[b],d)}}}var u=function(){this._on={},this._uuid=""+e_()+e_()+"-"+e_()+"-"+e_()+"-"+e_()+"-"+e_()+e_()+e_()};u.prototype.config=function(_){var a=this;if(!this._configDefault){var g={};for(var c in a.__proto__)if(0!==c.indexOf("_")&&!["config","constructor","render"].includes(c)){var e=a[c]();g[c]=eZ(e)?e$({},e):e}this._configDefault=g}if(arguments.length){for(var b in _)if(({}).hasOwnProperty.call(_,b)&&b in a){var f=_[b];f===e0?"on"===b?a._on=a._configDefault[b]:a[b](a._configDefault[b]):(e1(f,a._configDefault[b]),a[b](f))}return this}var h={};for(var d in a.__proto__)0===d.indexOf("_")||["config","constructor","render"].includes(d)||(h[d]=a[d]());return h},u.prototype.on=function(_,a){return 2===arguments.length?(this._on[_]=a,this):arguments.length?"string"==typeof _?this._on[_]:(this._on=Object.assign({},this._on,_),this):this._on};var e2=function(a){return function(){return a}};function P(){}function Q(a,d){var c=new P;if(a instanceof P)a.each(function(a,b){c.set(b,a)});else if(Array.isArray(a)){var e,b=-1,f=a.length;if(null==d)for(;++b<f;)c.set(b,a[b]);else for(;++b<f;)c.set(d(e=a[b],b,a),e)}else if(a)for(var g in a)c.set(g,a[g]);return c}P.prototype=Q.prototype={constructor:P,has:function(a){return"$"+a in this},get:function(a){return this["$"+a]},set:function(a,b){return this["$"+a]=b,this},remove:function(b){var a="$"+b;return a in this&&delete this[a]},clear:function(){for(var a in this)"$"===a[0]&&delete this[a]},keys:function(){var a=[];for(var b in this)"$"===b[0]&&a.push(b.slice(1));return a},values:function(){var a=[];for(var b in this)"$"===b[0]&&a.push(this[b]);return a},entries:function(){var b=[];for(var a in this)"$"===a[0]&&b.push({key:a.slice(1),value:this[a]});return b},size:function(){var a=0;for(var b in this)"$"===b[0]&& ++a;return a},empty:function(){for(var a in this)if("$"===a[0])return!1;return!0},each:function(b){for(var a in this)"$"===a[0]&&b(this[a],a.slice(1),this)}};function R(){}var e=Q.prototype;R.prototype=(function(a,d){var c=new R;if(a instanceof R)a.each(function(a){c.add(a)});else if(a){var b=-1,e=a.length;if(null==d)for(;++b<e;)c.add(a[b]);else for(;++b<e;)c.add(d(a[b],b,a))}return c}).prototype={constructor:R,has:e.has,add:function(a){return this["$"+(a+="")]=a,this},remove:e.remove,clear:e.clear,values:e.keys,size:e.size,empty:e.empty,each:e.each};var e3=function(b){var a;return 1===(a="number"==typeof b?[b]:b.split(/\s+/)).length?a=[a[0],a[0],a[0],a[0]]:2===a.length?a=a.concat(a):3===a.length&&a.push(a[1]),["top","right","bottom","left"].reduce(function(b,c,d){var e=parseFloat(a[d]);return b[c]=e||0,b},{})},aN=["u0903","u093B","u093E","u093F","u0940","u0949","u094A","u094B","u094C","u094E","u094F","u0982","u0983","u09BE","u09BF","u09C0","u09C7","u09C8","u09CB","u09CC","u09D7","u0A03","u0A3E","u0A3F","u0A40","u0A83","u0ABE","u0ABF","u0AC0","u0AC9","u0ACB","u0ACC","u0B02","u0B03","u0B3E","u0B40","u0B47","u0B48","u0B4B","u0B4C","u0B57","u0BBE","u0BBF","u0BC1","u0BC2","u0BC6","u0BC7","u0BC8","u0BCA","u0BCB","u0BCC","u0BD7","u0C01","u0C02","u0C03","u0C41","u0C42","u0C43","u0C44","u0C82","u0C83","u0CBE","u0CC0","u0CC1","u0CC2","u0CC3","u0CC4","u0CC7","u0CC8","u0CCA","u0CCB","u0CD5","u0CD6","u0D02","u0D03","u0D3E","u0D3F","u0D40","u0D46","u0D47","u0D48","u0D4A","u0D4B","u0D4C","u0D57","u0D82","u0D83","u0DCF","u0DD0","u0DD1","u0DD8","u0DD9","u0DDA","u0DDB","u0DDC","u0DDD","u0DDE","u0DDF","u0DF2","u0DF3","u0F3E","u0F3F","u0F7F","u102B","u102C","u1031","u1038","u103B","u103C","u1056","u1057","u1062","u1063","u1064","u1067","u1068","u1069","u106A","u106B","u106C","u106D","u1083","u1084","u1087","u1088","u1089","u108A","u108B","u108C","u108F","u109A","u109B","u109C","u17B6","u17BE","u17BF","u17C0","u17C1","u17C2","u17C3","u17C4","u17C5","u17C7","u17C8","u1923","u1924","u1925","u1926","u1929","u192A","u192B","u1930","u1931","u1933","u1934","u1935","u1936","u1937","u1938","u1A19","u1A1A","u1A55","u1A57","u1A61","u1A63","u1A64","u1A6D","u1A6E","u1A6F","u1A70","u1A71","u1A72","u1B04","u1B35","u1B3B","u1B3D","u1B3E","u1B3F","u1B40","u1B41","u1B43","u1B44","u1B82","u1BA1","u1BA6","u1BA7","u1BAA","u1BE7","u1BEA","u1BEB","u1BEC","u1BEE","u1BF2","u1BF3","u1C24","u1C25","u1C26","u1C27","u1C28","u1C29","u1C2A","u1C2B","u1C34","u1C35","u1CE1","u1CF2","u1CF3","u302E","u302F","uA823","uA824","uA827","uA880","uA881","uA8B4","uA8B5","uA8B6","uA8B7","uA8B8","uA8B9","uA8BA","uA8BB","uA8BC","uA8BD","uA8BE","uA8BF","uA8C0","uA8C1","uA8C2","uA8C3","uA952","uA953","uA983","uA9B4","uA9B5","uA9BA","uA9BB","uA9BD","uA9BE","uA9BF","uA9C0","uAA2F","uAA30","uAA33","uAA34","uAA4D","uAA7B","uAA7D","uAAEB","uAAEE","uAAEF","uAAF5","uABE3","uABE4","uABE6","uABE7","uABE9","uABEA","uABEC"].concat(["u0300","u0301","u0302","u0303","u0304","u0305","u0306","u0307","u0308","u0309","u030A","u030B","u030C","u030D","u030E","u030F","u0310","u0311","u0312","u0313","u0314","u0315","u0316","u0317","u0318","u0319","u031A","u031B","u031C","u031D","u031E","u031F","u0320","u0321","u0322","u0323","u0324","u0325","u0326","u0327","u0328","u0329","u032A","u032B","u032C","u032D","u032E","u032F","u0330","u0331","u0332","u0333","u0334","u0335","u0336","u0337","u0338","u0339","u033A","u033B","u033C","u033D","u033E","u033F","u0340","u0341","u0342","u0343","u0344","u0345","u0346","u0347","u0348","u0349","u034A","u034B","u034C","u034D","u034E","u034F","u0350","u0351","u0352","u0353","u0354","u0355","u0356","u0357","u0358","u0359","u035A","u035B","u035C","u035D","u035E","u035F","u0360","u0361","u0362","u0363","u0364","u0365","u0366","u0367","u0368","u0369","u036A","u036B","u036C","u036D","u036E","u036F","u0483","u0484","u0485","u0486","u0487","u0591","u0592","u0593","u0594","u0595","u0596","u0597","u0598","u0599","u059A","u059B","u059C","u059D","u059E","u059F","u05A0","u05A1","u05A2","u05A3","u05A4","u05A5","u05A6","u05A7","u05A8","u05A9","u05AA","u05AB","u05AC","u05AD","u05AE","u05AF","u05B0","u05B1","u05B2","u05B3","u05B4","u05B5","u05B6","u05B7","u05B8","u05B9","u05BA","u05BB","u05BC","u05BD","u05BF","u05C1","u05C2","u05C4","u05C5","u05C7","u0610","u0611","u0612","u0613","u0614","u0615","u0616","u0617","u0618","u0619","u061A","u064B","u064C","u064D","u064E","u064F","u0650","u0651","u0652","u0653","u0654","u0655","u0656","u0657","u0658","u0659","u065A","u065B","u065C","u065D","u065E","u065F","u0670","u06D6","u06D7","u06D8","u06D9","u06DA","u06DB","u06DC","u06DF","u06E0","u06E1","u06E2","u06E3","u06E4","u06E7","u06E8","u06EA","u06EB","u06EC","u06ED","u0711","u0730","u0731","u0732","u0733","u0734","u0735","u0736","u0737","u0738","u0739","u073A","u073B","u073C","u073D","u073E","u073F","u0740","u0741","u0742","u0743","u0744","u0745","u0746","u0747","u0748","u0749","u074A","u07A6","u07A7","u07A8","u07A9","u07AA","u07AB","u07AC","u07AD","u07AE","u07AF","u07B0","u07EB","u07EC","u07ED","u07EE","u07EF","u07F0","u07F1","u07F2","u07F3","u0816","u0817","u0818","u0819","u081B","u081C","u081D","u081E","u081F","u0820","u0821","u0822","u0823","u0825","u0826","u0827","u0829","u082A","u082B","u082C","u082D","u0859","u085A","u085B","u08E3","u08E4","u08E5","u08E6","u08E7","u08E8","u08E9","u08EA","u08EB","u08EC","u08ED","u08EE","u08EF","u08F0","u08F1","u08F2","u08F3","u08F4","u08F5","u08F6","u08F7","u08F8","u08F9","u08FA","u08FB","u08FC","u08FD","u08FE","u08FF","u0900","u0901","u0902","u093A","u093C","u0941","u0942","u0943","u0944","u0945","u0946","u0947","u0948","u094D","u0951","u0952","u0953","u0954","u0955","u0956","u0957","u0962","u0963","u0981","u09BC","u09C1","u09C2","u09C3","u09C4","u09CD","u09E2","u09E3","u0A01","u0A02","u0A3C","u0A41","u0A42","u0A47","u0A48","u0A4B","u0A4C","u0A4D","u0A51","u0A70","u0A71","u0A75","u0A81","u0A82","u0ABC","u0AC1","u0AC2","u0AC3","u0AC4","u0AC5","u0AC7","u0AC8","u0ACD","u0AE2","u0AE3","u0B01","u0B3C","u0B3F","u0B41","u0B42","u0B43","u0B44","u0B4D","u0B56","u0B62","u0B63","u0B82","u0BC0","u0BCD","u0C00","u0C3E","u0C3F","u0C40","u0C46","u0C47","u0C48","u0C4A","u0C4B","u0C4C","u0C4D","u0C55","u0C56","u0C62","u0C63","u0C81","u0CBC","u0CBF","u0CC6","u0CCC","u0CCD","u0CE2","u0CE3","u0D01","u0D41","u0D42","u0D43","u0D44","u0D4D","u0D62","u0D63","u0DCA","u0DD2","u0DD3","u0DD4","u0DD6","u0E31","u0E34","u0E35","u0E36","u0E37","u0E38","u0E39","u0E3A","u0E47","u0E48","u0E49","u0E4A","u0E4B","u0E4C","u0E4D","u0E4E","u0EB1","u0EB4","u0EB5","u0EB6","u0EB7","u0EB8","u0EB9","u0EBB","u0EBC","u0EC8","u0EC9","u0ECA","u0ECB","u0ECC","u0ECD","u0F18","u0F19","u0F35","u0F37","u0F39","u0F71","u0F72","u0F73","u0F74","u0F75","u0F76","u0F77","u0F78","u0F79","u0F7A","u0F7B","u0F7C","u0F7D","u0F7E","u0F80","u0F81","u0F82","u0F83","u0F84","u0F86","u0F87","u0F8D","u0F8E","u0F8F","u0F90","u0F91","u0F92","u0F93","u0F94","u0F95","u0F96","u0F97","u0F99","u0F9A","u0F9B","u0F9C","u0F9D","u0F9E","u0F9F","u0FA0","u0FA1","u0FA2","u0FA3","u0FA4","u0FA5","u0FA6","u0FA7","u0FA8","u0FA9","u0FAA","u0FAB","u0FAC","u0FAD","u0FAE","u0FAF","u0FB0","u0FB1","u0FB2","u0FB3","u0FB4","u0FB5","u0FB6","u0FB7","u0FB8","u0FB9","u0FBA","u0FBB","u0FBC","u0FC6","u102D","u102E","u102F","u1030","u1032","u1033","u1034","u1035","u1036","u1037","u1039","u103A","u103D","u103E","u1058","u1059","u105E","u105F","u1060","u1071","u1072","u1073","u1074","u1082","u1085","u1086","u108D","u109D","u135D","u135E","u135F","u1712","u1713","u1714","u1732","u1733","u1734","u1752","u1753","u1772","u1773","u17B4","u17B5","u17B7","u17B8","u17B9","u17BA","u17BB","u17BC","u17BD","u17C6","u17C9","u17CA","u17CB","u17CC","u17CD","u17CE","u17CF","u17D0","u17D1","u17D2","u17D3","u17DD","u180B","u180C","u180D","u18A9","u1920","u1921","u1922","u1927","u1928","u1932","u1939","u193A","u193B","u1A17","u1A18","u1A1B","u1A56","u1A58","u1A59","u1A5A","u1A5B","u1A5C","u1A5D","u1A5E","u1A60","u1A62","u1A65","u1A66","u1A67","u1A68","u1A69","u1A6A","u1A6B","u1A6C","u1A73","u1A74","u1A75","u1A76","u1A77","u1A78","u1A79","u1A7A","u1A7B","u1A7C","u1A7F","u1AB0","u1AB1","u1AB2","u1AB3","u1AB4","u1AB5","u1AB6","u1AB7","u1AB8","u1AB9","u1ABA","u1ABB","u1ABC","u1ABD","u1B00","u1B01","u1B02","u1B03","u1B34","u1B36","u1B37","u1B38","u1B39","u1B3A","u1B3C","u1B42","u1B6B","u1B6C","u1B6D","u1B6E","u1B6F","u1B70","u1B71","u1B72","u1B73","u1B80","u1B81","u1BA2","u1BA3","u1BA4","u1BA5","u1BA8","u1BA9","u1BAB","u1BAC","u1BAD","u1BE6","u1BE8","u1BE9","u1BED","u1BEF","u1BF0","u1BF1","u1C2C","u1C2D","u1C2E","u1C2F","u1C30","u1C31","u1C32","u1C33","u1C36","u1C37","u1CD0","u1CD1","u1CD2","u1CD4","u1CD5","u1CD6","u1CD7","u1CD8","u1CD9","u1CDA","u1CDB","u1CDC","u1CDD","u1CDE","u1CDF","u1CE0","u1CE2","u1CE3","u1CE4","u1CE5","u1CE6","u1CE7","u1CE8","u1CED","u1CF4","u1CF8","u1CF9","u1DC0","u1DC1","u1DC2","u1DC3","u1DC4","u1DC5","u1DC6","u1DC7","u1DC8","u1DC9","u1DCA","u1DCB","u1DCC","u1DCD","u1DCE","u1DCF","u1DD0","u1DD1","u1DD2","u1DD3","u1DD4","u1DD5","u1DD6","u1DD7","u1DD8","u1DD9","u1DDA","u1DDB","u1DDC","u1DDD","u1DDE","u1DDF","u1DE0","u1DE1","u1DE2","u1DE3","u1DE4","u1DE5","u1DE6","u1DE7","u1DE8","u1DE9","u1DEA","u1DEB","u1DEC","u1DED","u1DEE","u1DEF","u1DF0","u1DF1","u1DF2","u1DF3","u1DF4","u1DF5","u1DFC","u1DFD","u1DFE","u1DFF","u20D0","u20D1","u20D2","u20D3","u20D4","u20D5","u20D6","u20D7","u20D8","u20D9","u20DA","u20DB","u20DC","u20E1","u20E5","u20E6","u20E7","u20E8","u20E9","u20EA","u20EB","u20EC","u20ED","u20EE","u20EF","u20F0","u2CEF","u2CF0","u2CF1","u2D7F","u2DE0","u2DE1","u2DE2","u2DE3","u2DE4","u2DE5","u2DE6","u2DE7","u2DE8","u2DE9","u2DEA","u2DEB","u2DEC","u2DED","u2DEE","u2DEF","u2DF0","u2DF1","u2DF2","u2DF3","u2DF4","u2DF5","u2DF6","u2DF7","u2DF8","u2DF9","u2DFA","u2DFB","u2DFC","u2DFD","u2DFE","u2DFF","u302A","u302B","u302C","u302D","u3099","u309A","uA66F","uA674","uA675","uA676","uA677","uA678","uA679","uA67A","uA67B","uA67C","uA67D","uA69E","uA69F","uA6F0","uA6F1","uA802","uA806","uA80B","uA825","uA826","uA8C4","uA8E0","uA8E1","uA8E2","uA8E3","uA8E4","uA8E5","uA8E6","uA8E7","uA8E8","uA8E9","uA8EA","uA8EB","uA8EC","uA8ED","uA8EE","uA8EF","uA8F0","uA8F1","uA926","uA927","uA928","uA929","uA92A","uA92B","uA92C","uA92D","uA947","uA948","uA949","uA94A","uA94B","uA94C","uA94D","uA94E","uA94F","uA950","uA951","uA980","uA981","uA982","uA9B3","uA9B6","uA9B7","uA9B8","uA9B9","uA9BC","uA9E5","uAA29","uAA2A","uAA2B","uAA2C","uAA2D","uAA2E","uAA31","uAA32","uAA35","uAA36","uAA43","uAA4C","uAA7C","uAAB0","uAAB2","uAAB3","uAAB4","uAAB7","uAAB8","uAABE","uAABF","uAAC1","uAAEC","uAAED","uAAF6","uABE5","uABE8","uABED","uFB1E","uFE00","uFE01","uFE02","uFE03","uFE04","uFE05","uFE06","uFE07","uFE08","uFE09","uFE0A","uFE0B","uFE0C","uFE0D","uFE0E","uFE0F","uFE20","uFE21","uFE22","uFE23","uFE24","uFE25","uFE26","uFE27","uFE28","uFE29","uFE2A","uFE2B","uFE2C","uFE2D","uFE2E","uFE2F"]),p=["-","/",";",":","&","u0E2F","u0EAF","u0EC6","u0ECC","u104A","u104B","u104C","u104D","u104E","u104F","u2013","u2014","u2027","u3000","u3001","u3002","uFF0C","uFF5E"],aO=["'",">",")","}","]",".","!","?","u00BB","u300B","u3009"].concat(p),S="\u1000-\u102A\u103F-\u1049\u1050-\u1055\u3400-\u9FBF\u3040-\u309F\u30A0-\u30FF\uFF00-\uFF0B\uFF0D-\uFF5D\uFF5F-\uFF9F\u3400-\u4DBF\u0E81-\u0EAE\u0EB0-\u0EC4\u0EC8-\u0ECB\u0ECD-\u0EDD",e4=new RegExp("(\\"+p.join("|\\")+")*[^\\s|\\"+p.join("|\\")+"]*(\\"+p.join("|\\")+")*","g"),e5=new RegExp("["+S+"]"),e6=new RegExp("(\\'|\\<|\\(|\\{|\\[|\\u00AB|\\u300A|\\u3008)*["+S+"](\\"+aO.join("|\\")+"|\\"+aN.join("|\\")+")*|[a-z0-9]+","gi"),e7=function(a){return e5.test(a)?eV(eR(a).match(e4).map(function(a){return e5.test(a)?a.match(e6):[a]})):eR(a).match(e4).filter(function(a){return a.length})},e8=function(){var b,c="sans-serif",d=10,e=400,f=200,g=null,h=!1,i=e7,j=200;function a(l){l=eR(l),void 0===b&&(b=Math.ceil(1.4*d));for(var m=i(l),q={"font-family":c,"font-size":d,"font-weight":e,"line-height":b},n=1,r="",t=!1,p=0,k=[],u=eM(m,q),v=eM(" ",q),o=0;o<m.length;o++){var a=m[o],s=u[m.indexOf(a)];if(a+=l.slice(r.length+a.length).match("^( |\n)*","g")[0],"\n"===r.slice(-1)||p+s>j){if(!o&&!h||(k[n-1]=eN(k[n-1]),b* ++n>f||s>j&&!h||g&&n>g)){t=!0;break}p=0,k.push(a)}else o?k[n-1]+=a:k[0]=a;r+=a,p+=s,p+=a.match(/[\s]*$/g)[0].length*v}return{lines:k,sentence:l,truncated:t,widths:eM(k,q),words:m}}return a.fontFamily=function(_){return arguments.length?(c=_,a):c},a.fontSize=function(_){return arguments.length?(d=_,a):d},a.fontWeight=function(_){return arguments.length?(e=_,a):e},a.height=function(_){return arguments.length?(f=_,a):f},a.lineHeight=function(_){return arguments.length?(b=_,a):b},a.maxLines=function(_){return arguments.length?(g=_,a):g},a.overflow=function(_){return arguments.length?(h=_,a):h},a.split=function(_){return arguments.length?(i=_,a):i},a.width=function(_){return arguments.length?(j=_,a):j},a},e9=function(b){function a(){var a=this;b.call(this),this._ariaHidden=e2("false"),this._delay=0,this._duration=0,this._ellipsis=function(a,b){return b?a.replace(/\.|,$/g,"")+"...":""},this._fontColor=e2("black"),this._fontFamily=e2(["Roboto","Helvetica Neue","HelveticaNeue","Helvetica","Arial","sans-serif"]),this._fontMax=e2(50),this._fontMin=e2(8),this._fontOpacity=e2(1),this._fontResize=e2(!1),this._fontSize=e2(10),this._fontWeight=e2(400),this._height=eY("height",200),this._id=function(a,b){return a.id||""+b},this._lineHeight=function(b,c){return 1.2*a._fontSize(b,c)},this._maxLines=e2(null),this._on={},this._overflow=e2(!1),this._padding=e2(0),this._pointerEvents=e2("auto"),this._rotate=e2(0),this._rotateAnchor=function(a){return[a.w/2,a.h/2]},this._split=e7,this._text=eY("text"),this._textAnchor=e2("start"),this._verticalAlign=e2("top"),this._width=eY("width",200),this._x=eY("x",0),this._y=eY("y",0)}return b&&(a.__proto__=b),a.prototype=Object.create(b&&b.prototype),a.prototype.constructor=a,a.prototype.render=function(d){var i=this;void 0===this._select&&this.select(ae("body").append("svg").style("width",window.innerWidth+"px").style("height",window.innerHeight+"px").node());var j=this,a=this._select.selectAll(".d3plus-textBox").data(this._data.reduce(function(l,b,a){var n=i._text(b,a);if(void 0===n)return l;var m,z,k=i._fontResize(b,a),o=i._lineHeight(b,a)/i._fontSize(b,a),d=k?i._fontMax(b,a):i._fontSize(b,a),f=k?d*o:i._lineHeight(b,a),A=1,p=[],h={"font-family":eQ(i._fontFamily(b,a)),"font-size":d,"font-weight":i._fontWeight(b,a),"line-height":f},g=e3(i._padding(b,a)),c=i._height(b,a)-(g.top+g.bottom),e=i._width(b,a)-(g.left+g.right),F=e8().fontFamily(h["font-family"]).fontSize(d).fontWeight(h["font-weight"]).lineHeight(f).maxLines(i._maxLines(b,a)).height(c).overflow(i._overflow(b,a)).width(e),G=i._fontMax(b,a),q=i._fontMin(b,a),r=i._verticalAlign(b,a),B=i._split(n,a);function C(){var a=function(){A<1?p=[j._ellipsis("",A)]:p[A-1]=j._ellipsis(p[A-1],A)};if(d=eU([d,q]),d=eW([d,G]),k&&(f=d*o,F.fontSize(d).lineHeight(f),h["font-size"]=d,h["line-height"]=f),A=(p=(z=F(n)).lines.filter(function(a){return""!==a})).length,z.truncated){if(k){if(--d<q){d=q,a();return}C()}else a()}}if(e>q&&(c>f||k&&c>q*o)){if(k){m=eM(B,h);var D=1.165+e/c*.1,s=e*c,t=eU(m),u=eX(m,function(a){return a*f})*D;if(t>e||u>s){var E=eW([Math.sqrt(s/u),e/t]);d=Math.floor(d*E)}var v=Math.floor(.8*c);d>v&&(d=v)}C()}if(p.length){var w=A*f,x=i._rotate(b,a),y=0===x?"top"===r?0:"middle"===r?c/2-w/2:c-w:0;y-=.1*f,l.push({aH:i._ariaHidden(b,a),data:b,i:a,lines:p,fC:i._fontColor(b,a),fF:h["font-family"],fO:i._fontOpacity(b,a),fW:h["font-weight"],id:i._id(b,a),tA:i._textAnchor(b,a),vA:i._verticalAlign(b,a),widths:z.widths,fS:d,lH:f,w:e,h:c,r:x,x:i._x(b,a)+g.left,y:i._y(b,a)+y+g.top})}return l},[]),function(a){return i._id(a.data,a.i)}),e=au().duration(this._duration);function f(a){a.attr("transform",function(a,c){var b=j._rotateAnchor(a,c);return"translate("+a.x+", "+a.y+") rotate("+a.r+", "+b[0]+", "+b[1]+")"})}0===this._duration?a.exit().remove():(a.exit().transition().delay(this._duration).remove(),a.exit().selectAll("text").transition(e).attr("opacity",0).style("opacity",0));var g=a.enter().append("g").attr("class","d3plus-textBox").attr("id",function(a){var b;return"d3plus-textBox-"+(""+(0,a.id)).replace(/[^A-Za-z0-9\-_]/g,function(b){if(" "===b)return"-";for(var c=!1,a=0;a<eS.length;a++)if(new RegExp(eS[a][0]).test(b)){c=eS[a][1];break}return c||""})}).call(f).merge(a),k="rtl"===ae("html").attr("dir")||"rtl"===ae("body").attr("dir")||"rtl"===ae("html").style("direction")||"rtl"===ae("body").style("direction");g.style("pointer-events",function(a){return i._pointerEvents(a.data,a.i)}).each(function(b){function c(a){a.text(function(a){return eN(a)}).attr("aria-hidden",b.aH).attr("dir",k?"rtl":"ltr").attr("fill",b.fC).attr("text-anchor",b.tA).attr("font-family",b.fF).style("font-family",b.fF).attr("font-size",b.fS+"px").style("font-size",b.fS+"px").attr("font-weight",b.fW).style("font-weight",b.fW).attr("x",("middle"===b.tA?b.w/2:k?"start"===b.tA?b.w:0:"end"===b.tA?b.w:2*Math.sin(Math.PI*b.r/180))+"px").attr("y",function(c,a){return 0===b.r||"top"===b.vA?(a+1)*b.lH-(b.lH-b.fS)+"px":"middle"===b.vA?(b.h+b.fS)/2-(b.lH-b.fS)+(a-b.lines.length/2+.5)*b.lH+"px":b.h-2*(b.lH-b.fS)-(b.lines.length-(a+1))*b.lH+2*Math.cos(Math.PI*b.r/180)+"px"})}var a=ae(this).selectAll("text").data(b.lines);0===j._duration?(a.call(c),a.exit().remove(),a.enter().append("text").attr("dominant-baseline","alphabetic").style("baseline-shift","0%").attr("unicode-bidi","bidi-override").call(c).attr("opacity",b.fO).style("opacity",b.fO)):(a.transition(e).call(c),a.exit().transition(e).attr("opacity",0).remove(),a.enter().append("text").attr("dominant-baseline","alphabetic").style("baseline-shift","0%").attr("opacity",0).style("opacity",0).call(c).merge(a).transition(e).delay(j._delay).call(c).attr("opacity",b.fO).style("opacity",b.fO))}).transition(e).call(f);for(var b=Object.keys(this._on),h=b.reduce(function(a,b){return a[b]=function(a,c){return i._on[b](a.data,c)},a},{}),c=0;c<b.length;c++)g.on(b[c],h[b[c]]);return d&&setTimeout(d,this._duration+100),this},a.prototype.ariaHidden=function(_){return void 0!==_?(this._ariaHidden="function"==typeof _?_:e2(_),this):this._ariaHidden},a.prototype.data=function(_){return arguments.length?(this._data=_,this):this._data},a.prototype.delay=function(_){return arguments.length?(this._delay=_,this):this._delay},a.prototype.duration=function(_){return arguments.length?(this._duration=_,this):this._duration},a.prototype.ellipsis=function(_){return arguments.length?(this._ellipsis="function"==typeof _?_:e2(_),this):this._ellipsis},a.prototype.fontColor=function(_){return arguments.length?(this._fontColor="function"==typeof _?_:e2(_),this):this._fontColor},a.prototype.fontFamily=function(_){return arguments.length?(this._fontFamily="function"==typeof _?_:e2(_),this):this._fontFamily},a.prototype.fontMax=function(_){return arguments.length?(this._fontMax="function"==typeof _?_:e2(_),this):this._fontMax},a.prototype.fontMin=function(_){return arguments.length?(this._fontMin="function"==typeof _?_:e2(_),this):this._fontMin},a.prototype.fontOpacity=function(_){return arguments.length?(this._fontOpacity="function"==typeof _?_:e2(_),this):this._fontOpacity},a.prototype.fontResize=function(_){return arguments.length?(this._fontResize="function"==typeof _?_:e2(_),this):this._fontResize},a.prototype.fontSize=function(_){return arguments.length?(this._fontSize="function"==typeof _?_:e2(_),this):this._fontSize},a.prototype.fontWeight=function(_){return arguments.length?(this._fontWeight="function"==typeof _?_:e2(_),this):this._fontWeight},a.prototype.height=function(_){return arguments.length?(this._height="function"==typeof _?_:e2(_),this):this._height},a.prototype.id=function(_){return arguments.length?(this._id="function"==typeof _?_:e2(_),this):this._id},a.prototype.lineHeight=function(_){return arguments.length?(this._lineHeight="function"==typeof _?_:e2(_),this):this._lineHeight},a.prototype.maxLines=function(_){return arguments.length?(this._maxLines="function"==typeof _?_:e2(_),this):this._maxLines},a.prototype.overflow=function(_){return arguments.length?(this._overflow="function"==typeof _?_:e2(_),this):this._overflow},a.prototype.padding=function(_){return arguments.length?(this._padding="function"==typeof _?_:e2(_),this):this._padding},a.prototype.pointerEvents=function(_){return arguments.length?(this._pointerEvents="function"==typeof _?_:e2(_),this):this._pointerEvents},a.prototype.rotate=function(_){return arguments.length?(this._rotate="function"==typeof _?_:e2(_),this):this._rotate},a.prototype.rotateAnchor=function(_){return arguments.length?(this._rotateAnchor="function"==typeof _?_:e2(_),this):this._rotateAnchor},a.prototype.select=function(_){return arguments.length?(this._select=ae(_),this):this._select},a.prototype.split=function(_){return arguments.length?(this._split=_,this):this._split},a.prototype.text=function(_){return arguments.length?(this._text="function"==typeof _?_:e2(_),this):this._text},a.prototype.textAnchor=function(_){return arguments.length?(this._textAnchor="function"==typeof _?_:e2(_),this):this._textAnchor},a.prototype.verticalAlign=function(_){return arguments.length?(this._verticalAlign="function"==typeof _?_:e2(_),this):this._verticalAlign},a.prototype.width=function(_){return arguments.length?(this._width="function"==typeof _?_:e2(_),this):this._width},a.prototype.x=function(_){return arguments.length?(this._x="function"==typeof _?_:e2(_),this):this._x},a.prototype.y=function(_){return arguments.length?(this._y="function"==typeof _?_:e2(_),this):this._y},a}(u);function fa(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function fb(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}var T=function(){var a,b,c;function d(b,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d);var a=function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){fa(d,a,c[a])})}return d}({},d.defaults,c);this._ownerObject=b,this._sizingMode=a.sizingMode,this._horizontalSpacing=a.horizontalSpacing,this._verticalSpacing=a.verticalSpacing}return a=d,b=[{key:"back",value:function(){return this._ownerObject}},{key:"getHorizontalSpacing",value:function(){return this._horizontalSpacing}},{key:"setHorizontalSpacing",value:function(a){return this._horizontalSpacing=a,this}},{key:"getVerticalSpacing",value:function(){return this._verticalSpacing}},{key:"setVerticalSpacing",value:function(a){return this._verticalSpacing=a,this}},{key:"getSizingMode",value:function(){return this._sizingMode}},{key:"setSizingMode",value:function(a){return this._sizingMode=a,this}}],fb(a.prototype,b),c&&fb(a,c),d}();T.defaults={sizingMode:"size",horizontalSpacing:25,verticalSpacing:25};var U=T;function fc(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function fd(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}var V=function(){var a,b,c;function d(b,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d);var a=function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){fc(d,a,c[a])})}return d}({},d.defaults,c);this._ownerObject=b,this._hasChildren=a.hasChildren,this._loadChildren=a.loadChildren}return a=d,b=[{key:"back",value:function(){return this._ownerObject}},{key:"validateSettings",value:function(){if(!this.hasChildren&&this.loadChildren)throw"With load on demand enabled, you need to define hasChildren as part of the options";if(!this.loadChildren&&this.hasChildren)throw"With load on demand enabled, you need to define loadChildren as part of the options";return this}},{key:"loadChildren",value:function(a,b){return this._loadChildren.call(this._ownerObject,a,b)}},{key:"hasChildren",value:function(a){return this._hasChildren.call(this._ownerObject,a)}},{key:"setLoadChildrenMethod",value:function(a){return this._loadChildren=a,this}},{key:"setHasChildrenMethod",value:function(a){return this._hasChildren=a,this}},{key:"isEnabled",value:function(){return this._hasChildren||this._loadChildren}}],fd(a.prototype,b),c&&fd(a,c),d}();V.defaults={hasChildren:null,loadChildren:null};var fe=V;function ff(a){return(ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function fg(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function fh(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function fi(a){return fl(a)||fk(a)||fj()}function fj(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function fk(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function fl(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function fm(a,f,b){if(b(a))return a;var g=f(a),c=g.find(b);if(!c){var d=!0,h=!1,i=void 0;try{for(var j,e=g[Symbol.iterator]();!(d=(j=e.next()).done);d=!0){var k=j.value;if(c=fm(k,f,b))break}}catch(l){h=!0,i=l}finally{try{d||null==e.return||e.return()}finally{if(h)throw i}}}return c}function fn(k,d){var a=[],e=d(k);if(e){var b=!0,f=!1,g=void 0;try{for(var h,c=e[Symbol.iterator]();!(b=(h=c.next()).done);b=!0){var i=h.value;a.push(i);var j=fn(i,d);j&&(a=[].concat(fi(a),fi(j)))}}catch(l){f=!0,g=l}finally{try{b||null==c.return||c.return()}finally{if(f)throw g}}}return a}var W=function(){var a,b,c;function d(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d),b=b||{};var a=function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){fg(d,a,c[a])})}return d}({},d.defaults,b);this._root=null,this._svg=null,this._panningContainer=null,this._view=null,this._treeGenerator=null,this._linkPathGenerator=null,this._visibleNodes=null,this._links=null,this._zoomListener=null,this.setTheme(a.theme),this.setData(a.data),this.setElement(a.element),this.setWidthWithoutMargin(a.widthWithoutMargin),this.setHeightWithoutMargin(a.heightWithoutMargin),this.setMargin(a.margin),this.setDuration(a.duration),this.setAllowPan(a.allowPan),this.setAllowZoom(a.allowZoom),this.setAllowFocus(a.allowFocus),this.setAllowNodeCentering(a.allowNodeCentering),this.setMinScale(a.minScale),this.setMaxScale(a.maxScale),this.setIsFlatData(a.isFlatData),this.setNodeDepthMultiplier(a.nodeDepthMultiplier),a.events.nodeClick&&(this.onNodeClick=a.events.nodeClick),this.loadOnDemandSettings=new fe(this,a.loadOnDemandSettings),this.nodeSettings=new U(this,a.nodeSettings),this._getId=a.getId,this._getChildren=a.getChildren,this._getParentId=a.getParentId}return a=d,b=[{key:"_nodeEnter",value:function(a,b){throw"The function _nodeEnter must be implemented"}},{key:"_nodeUpdate",value:function(a,b,c){throw"The function _nodeUpdate must be implemented"}},{key:"_nodeExit",value:function(a,b,c){throw"The function _nodeExit must be implemented"}},{key:"_getLinkPathGenerator",value:function(){throw"The function _getLinkPathGenerator must be implemented"}},{key:"_linkEnter",value:function(a,b,c,d){throw"The function _linkEnter must be implemented"}},{key:"_linkUpdate",value:function(a,b,c,d,e){throw"The function _linkUpdate must be implemented"}},{key:"_linkExit",value:function(a,b,c,d,e){throw"The function _linkExit must be implemented"}},{key:"_getNodeSize",value:function(){throw"The function _getNodeSize must be implemented"}},{key:"focusToNode",value:function(c){this.removeSelection(this.getRoot());var b=c;"object"!==ff(b)&&null!==b&&(b=this.getNode(b));var a=null;for(a=b.parent;a;)a._children&&this.expand(a),a=a.parent;if(this.getAllowFocus()){for(a=b.parent;a;)this.hideSiblings(a),a=a.parent;this.updateTreeWithFocusOnNode(b),b.selected=!0}return this.update(this.getRoot()),this.centerNode(b),this}},{key:"on",value:function(a,b){return 0==a.indexOf("on")&&a.slice(2),this["on"+(a.charAt(0).toUpperCase()+a.slice(1))]=b,this}},{key:"emit",value:function(a){0==a.indexOf("on")&&a.slice(2);for(var d=this["on"+(a.charAt(0).toUpperCase()+a.slice(1))],c=arguments.length,e=new Array(c>1?c-1:0),b=1;b<c;b++)e[b-1]=arguments[b];if(d)return d.apply(this,e)}},{key:"getIsFlatData",value:function(){return this._isFlatData}},{key:"setIsFlatData",value:function(a){return this._isFlatData=a,this}},{key:"regenerateNodeData",value:function(){var b=this;if(this.getIsFlatData()){if(!this._getParentId)throw"If you are providing flat structured data, then you must set the getParentId accessor property.";var a=eL.stratify().id(function(a,c,d){return b.getId.call(b,a)}).parentId(function(a,c,d){return b.getParentId.call(b,a)});this._root=a(this.getData())}else{if(!this._getChildren)throw"If you are providing hierarchical structured data, then you must set the getChildren accessor property.";this._root=eL.hierarchy(this.getData(),function(a){return b.getChildren.call(b,a)})}return this}},{key:"getTheme",value:function(){return this._theme}},{key:"setTheme",value:function(a){return this._theme=a,this}},{key:"getData",value:function(){return this._data}},{key:"setData",value:function(a){return this._data=a,this}},{key:"getNodeDepthMultiplier",value:function(){return this._nodeDepthMultiplier}},{key:"setNodeDepthMultiplier",value:function(a){return this._nodeDepthMultiplier=a,this}},{key:"getDuration",value:function(){return this._duration}},{key:"setDuration",value:function(a){return this._duration=a,this}},{key:"getAllowPan",value:function(){return this._allowPan}},{key:"setAllowPan",value:function(a){return this._allowPan=a,this}},{key:"getAllowZoom",value:function(){return this._allowZoom}},{key:"setAllowZoom",value:function(a){return this._allowZoom=a,this}},{key:"getAllowFocus",value:function(){return this._allowFocus}},{key:"setAllowFocus",value:function(a){return this._allowFocus=a,this}},{key:"getAllowNodeCentering",value:function(){return this._allowNodeCentering}},{key:"setAllowNodeCentering",value:function(a){return this._allowNodeCentering=a,this}},{key:"getMinScale",value:function(){return this._minScale}},{key:"setMinScale",value:function(a){return this._minScale=a,this}},{key:"getMaxScale",value:function(){return this._maxScale}},{key:"setMaxScale",value:function(a){return this._maxScale=a,this}},{key:"getLoadOnDemandSettings",value:function(){return this.loadOnDemandSettings}},{key:"getNodeSettings",value:function(){return this.nodeSettings}},{key:"getElement",value:function(){return this._element}},{key:"setElement",value:function(a){return this._element=a,this}},{key:"getRoot",value:function(){return this._root}},{key:"getSvg",value:function(){return this._svg}},{key:"getView",value:function(){return this._view}},{key:"getPanningContainer",value:function(){return this._panningContainer}},{key:"getTreeGenerator",value:function(){return this._treeGenerator}},{key:"getNode",value:function(b){var c=this,a=b;return"object"===ff(a)&&null!==a&&(a=this.getId(a)),fm(this.getRoot(),function(a){return a._children?a._children:[]},function(b){return c.getId(b.data)==a})}},{key:"getDataItem",value:function(a){return this.getNode(a).data}},{key:"getNodes",value:function(){return this._nodes}},{key:"getVisibleNodes",value:function(){return this._visibleNodes}},{key:"getLinks",value:function(){return this._links}},{key:"getZoomListener",value:function(){return this._zoomListener}},{key:"getId",value:function(a){return this._getId(a)}},{key:"getChildren",value:function(a){return this._getChildren(a)}},{key:"getParentId",value:function(a){return this._getParentId(a)}},{key:"setIdAccessor",value:function(a){return this._getId=a,this}},{key:"setChildrenAccessor",value:function(a){return this._getChildren=a,this}},{key:"setParentIdAccessor",value:function(a){return this._getParentId=a,this}},{key:"getWidth",value:function(){return this.getWidthWithoutMargin()-this.getMargin().left-this.getMargin().right}},{key:"getHeight",value:function(){return this.getHeightWithoutMargin()-this.getMargin().top-this.getMargin().bottom}},{key:"setMargin",value:function(a){return this._margin=a,this}},{key:"getMargin",value:function(){return this._margin}},{key:"setWidthWithoutMargin",value:function(a){return this._widthWithoutMargin=a,this}},{key:"getWidthWithoutMargin",value:function(){return this._widthWithoutMargin}},{key:"setHeightWithoutMargin",value:function(a){return this._heightWithoutMargin=a,this}},{key:"getHeightWithoutMargin",value:function(){return this._heightWithoutMargin}},{key:"updateDimensions",value:function(){this.getSvg().attr("viewBox","0 0 "+this.getWidthWithoutMargin()+" "+this.getHeightWithoutMargin());var b=this.getMargin(),c=!1,a=this.nodeSettings.getSizingMode();return"string"==typeof a&&(a=a.trim().toLowerCase()),"nodesize"===a?(this.getTreeGenerator().nodeSize(this._getNodeSize()),!1===this.getAllowFocus()&&(c=!0)):this.getTreeGenerator().size([this.getHeight(),this.getWidth()]),!1===c?(this.getView().attr("transform","translate("+b.left+","+b.top+")"),this.getRoot().x0=this.getHeight()/2):(this.getView().attr("transform","translate("+b.left+", "+(this.getHeight()/2+this.getMargin().top)+")"),this.getRoot().x0=0),this.getZoomListener()&&this.getZoomListener().extent([[0,0],[this.getWidthWithoutMargin(),this.getHeightWithoutMargin()]]),this.getRoot().y0=0,this}},{key:"validateSettings",value:function(){if(!this.getElement())throw"Need to pass in an element as part of the options";if(!this.getData())throw"Need to pass in data as part of the options";if(!this._getId)throw"Need to define the getId function as part of the options";return this.loadOnDemandSettings.validateSettings(),this}},{key:"initialize",value:function(){var a=this;for(this.validateSettings(),this.regenerateNodeData();this.getElement().firstChild;)this.getElement().removeChild(this.getElement().firstChild);return this._svg=eL.select(this.getElement()).append("svg").classed("mitch-d3-tree",!0).classed(this.getTheme(),!0).attr("preserveAspectRatio","xMidYMid meet").style("width","100%").style("height","100%"),this._view=this.getSvg().append("g").classed("view",!0),this._treeGenerator=eL.tree(),this._panningContainer=this.getView().append("g").classed("panningContainer",!0),this._zoomListener=eL.zoom().scaleExtent([this.getMinScale(),this.getMaxScale()]).on("zoom",function(){var b=eL.event.transform;a.getPanningContainer().attr("transform",b)}),this.getSvg().call(this.getZoomListener()),!1===this.getAllowPan()&&this.getSvg().on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),!1===this.getAllowZoom()&&this.getSvg().on("dblclick.zoom",null).on("wheel.zoom",null),this.updateDimensions(),this._populateUnderlyingChildren(this.getRoot()),this.getRoot().children&&this.getRoot().children.forEach(this.collapseRecursively),this.removeSelection(this.getRoot()),this.update(this.getRoot()),this.centerNode(this.getRoot()),this}},{key:"expand",value:function(a){return a.children=a._children,this}},{key:"expandRecursively",value:function(a){return function b(a){a.children&&(a.children.forEach(b),a.children=a._children)}(a),this}},{key:"collapse",value:function(a){return a.children=null,this}},{key:"collapseRecursively",value:function(a){return function b(a){a.children&&(a.children.forEach(b),a.children=null)}(a),this}},{key:"_populateUnderlyingChildren",value:function(a){return function b(a){a.children&&(a._children=a.children,a._children.forEach(b))}(a),this}},{key:"removeSelection",value:function(a){return function b(a){a.selected=!1,a.children&&a.children.forEach(b)}(a),this}},{key:"centerNode",value:function(b){var a=eL.zoomTransform(this.getSvg().node()).k,c=-b.y0,d=-b.x0,e=c*a+this.getWidth()/4,f=d*a+this.getHeight()/2;return this.getSvg().transition().duration(this.getDuration()).call(this.getZoomListener().transform,eL.zoomIdentity.translate(e,f).scale(a)),this}},{key:"_onNodeClick",value:function(a,b,c){return!1!==this.emit("nodeClick",a,b,c)&&(this.getAllowFocus()?this.nodeFocus.call(this,a):this.nodeToggle.call(this,a),!0)}},{key:"_createNode",value:function(b,c){var a=eL.hierarchy(c);return a.depth=b.depth+1,a.height=b.height-1,a.parent=b,a.id=this.getId.call(this,c),a}},{key:"_addUnderlyingChildNode",value:function(a,c){var b=this._createNode(a,c);return a._children.push(b),b}},{key:"_processLoadedDataForNodeFocus",value:function(a,c){var d=this;a._children=[],c.forEach(function(b){return d._addUnderlyingChildNode(a,b)}),this._populateUnderlyingChildren(a),this.updateTreeWithFocusOnNode(a);var b=a.selected;return this.removeSelection(this.getRoot()),a.selected=!0,this.update(a),!0===this.getAllowNodeCentering()&&(!1===b|| void 0===b)&&this.centerNode(a),this}},{key:"nodeFocus",value:function(a){var d=this;if(!a.children&&!a._children&&this.loadOnDemandSettings.isEnabled()&&this.loadOnDemandSettings.hasChildren(a.data)){var c=function(b){return d._processLoadedDataForNodeFocus(a,b)};this.loadOnDemandSettings.loadChildren(a.data,c)}else{this.updateTreeWithFocusOnNode(a);var b=a.selected;this.removeSelection(this.getRoot()),a.selected=!0,this.update(a),!0===this.getAllowNodeCentering()&&(!1===b|| void 0===b)&&this.centerNode(a)}return this}},{key:"_processLoadedDataForNodeToggle",value:function(a,b){var c=this;return a._children=[],b.forEach(function(b){return c._addUnderlyingChildNode(a,b)}),this.expand(a),this.update(a),!0===this.getAllowNodeCentering()&&this.centerNode(a),this}},{key:"nodeToggle",value:function(a){var c=this;if(!a.children&&!a._children&&this.loadOnDemandSettings.isEnabled()&&this.loadOnDemandSettings.hasChildren(a.data)){var b=function(b){return c._processLoadedDataForNodeToggle(a,b)};this.loadOnDemandSettings.loadChildren(a.data,b)}else a.children?this.collapse(a):this.expand(a),this.update(a),!0===this.getAllowNodeCentering()&&this.centerNode(a);return this}},{key:"hideSiblings",value:function(b){var c=this,a=b.parent;if(a){var d=this.getId(b.data);a.children.filter(function(a){return c.getId(a.data)!=d}).forEach(this.collapseRecursively),a.children=[],a.children.push(b)}return this}},{key:"updateTreeWithFocusOnNode",value:function(a){return!a.children&&a._children?(this.hideSiblings(a),this.expand(a),a.children.forEach(this.collapseRecursively)):a.children&& !1== !a.children.some(function(a,b,c){return a.children})&&(this.collapseRecursively(a),this.expand(a)),this}},{key:"_updateNodes",value:function(g,a){var h=this;a.forEach(function(a){return a.y=a.depth*h.getNodeDepthMultiplier()});var a=this.getPanningContainer().selectAll("g.node").data(a,function(a){return h.getId.call(h,a.data)}),c=a.enter().append("g").classed("node",!0).attr("transform",function(a,b,c){return"translate("+g.x0+","+g.y0+")"}).on("click",function(a,b,c){return h._onNodeClick.call(h,a,b,c)});this._nodeEnter(c,a);var b=c.merge(a),e=b.transition().duration(this.getDuration());b.classed("collapsed",function(a,b,c){return!a.children&&!!a._children|| !!(h.loadOnDemandSettings.isEnabled()&&h.loadOnDemandSettings.hasChildren(a.data))&&!a.children&&!a._children}).classed("expanded",function(a,b,c){return a.children}).classed("childless",function(a,b,c){return!a.children&&!a._children}).classed("selected",function(a,b,c){return a.selected}),this._nodeUpdate(b,e,a);var d=a.exit(),f=d.transition().duration(this.getDuration());return this._nodeExit(d,f,a),this}},{key:"_updateLinks",value:function(b,g){var j=this,c=this._getLinkPathGenerator(),a=this.getPanningContainer().selectAll("path.link").data(g,function(a){return j.getId.call(j,a.data)}),d=a.enter().insert("path","g").classed("link",!0);this._linkEnter(b,d,a,c);var e=d.merge(a),h=e.transition().duration(this.getDuration());this._linkUpdate(b,e,h,a,c);var f=a.exit(),i=f.transition().duration(this.getDuration());return this._linkExit(b,f,i,a,c),this.getVisibleNodes().forEach(function(a){a.x0=a.x,a.y0=a.y}),this}},{key:"update",value:function(a){var b=this.getTreeGenerator()(this.getRoot());return this._visibleNodes=b.descendants(),this._nodes=[this.getRoot()].concat(fi(fn(this.getRoot(),function(a){return a._children}))),this._links=b.descendants().slice(1),this._updateNodes(a,this.getVisibleNodes())._updateLinks(a,this.getLinks()),this}}],fh(a.prototype,b),c&&fh(a,c),d}();W.defaults={theme:"default",allowPan:!0,allowZoom:!0,allowFocus:!0,allowNodeCentering:!0,minScale:1,maxScale:2,nodeDepthMultiplier:300,isFlatData:!1,getId:null,getParentId:null,getChildren:null,widthWithoutMargin:960,heightWithoutMargin:800,margin:{top:40,right:20,bottom:40,left:100},duration:750,events:{nodeClick:null},loadOnDemandSettings:{},nodeSettings:{}};var X=W;function fo(a){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function fp(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function fq(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function fr(a){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function fs(a,b){return(fs=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var Y=function(e){var a,c,d;function b(e,d){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a=(f=this,(g=fr(b).call(this,e,d))&&("object"===fo(g)||"function"==typeof g)?g:function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(f));var f,g,a,c=function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){fp(d,a,c[a])})}return d}({},b.defaults,d);return a._bodyBoxWidth=c.bodyBoxWidth,a._bodyBoxHeight=c.bodyBoxHeight,a._bodyBoxPadding=c.bodyBoxPadding,a._titleBoxWidth=c.titleBoxWidth,a._titleBoxHeight=c.titleBoxHeight,a._titleBoxPadding=c.titleBoxPadding,a}return!function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&fs(b,a)}(b,e),a=b,c=[{key:"getBodyBoxWidth",value:function(){return this._bodyBoxWidth}},{key:"setBodyBoxWidth",value:function(a){return this._bodyBoxWidth=a,this}},{key:"getBodyBoxHeight",value:function(){return this._bodyBoxHeight}},{key:"setBodyBoxHeight",value:function(a){return this._bodyBoxHeight=a,this}},{key:"setBodyBoxPadding",value:function(a){return this._bodyBoxPadding=a,this}},{key:"getBodyBoxPadding",value:function(){return this._bodyBoxPadding}},{key:"getTitleBoxWidth",value:function(){return this._titleBoxWidth?this._titleBoxWidth:this.getBodyBoxWidth()/2}},{key:"setTitleBoxWidth",value:function(a){return this._titleBoxWidth=a,this}},{key:"getTitleBoxHeight",value:function(){return this._titleBoxHeight}},{key:"setTitleBoxHeight",value:function(a){return this._titleBoxHeight=a,this}},{key:"getTitleBoxPadding",value:function(){return this._titleBoxPadding}},{key:"setTitleBoxPadding",value:function(a){return this._titleBoxPadding=a,this}}],fq(a.prototype,c),d&&fq(a,d),b}(U);Y.defaults={bodyBoxWidth:200,bodyBoxHeight:75,bodyBoxPadding:{top:5,right:10,bottom:5,left:10},titleBoxWidth:null,titleBoxHeight:40,titleBoxPadding:{top:2,right:5,bottom:2,left:5}};var ft=Y;function fu(a){return(fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function fv(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function fw(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function fx(a,b,c){return(fx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(d,b,e){var c=fy(d,b);if(c){var a=Object.getOwnPropertyDescriptor(c,b);return a.get?a.get.call(e):a.value}})(a,b,c||a)}function fy(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&null!==(a=fz(a)););return a}function fz(a){return(fz=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function fA(a,b){return(fA=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function fB(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var Z=function(e){var a,c,d;function b(d){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a=(e=this,(f=fz(b).call(this,d))&&("object"===fu(f)||"function"==typeof f)?f:fB(e));var e,f,a,c=function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){fv(d,a,c[a])})}return d}({},X.defaults,b.defaults,d);return a._getBodyDisplayText=c.getBodyDisplayText,a._getTitleDisplayText=c.getTitleDisplayText,a.nodeSettings=new ft(fB(fB(a)),c.nodeSettings),a}return!function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&fA(b,a)}(b,e),a=b,c=[{key:"initialize",value:function(){return fx(fz(b.prototype),"initialize",this).call(this),this.getSvg().classed("boxed-tree",!0),this}},{key:"_nodeEnter",value:function(b,g){var a=this,h=a.nodeSettings.getBodyBoxWidth(),d=a.nodeSettings.getBodyBoxHeight(),i=a.nodeSettings.getBodyBoxPadding(),e=a.nodeSettings.getTitleBoxWidth(),f=a.nodeSettings.getTitleBoxHeight(),j=a.nodeSettings.getTitleBoxPadding(),c=b.append("g").classed("body-group",!0);return c.append("rect").classed("body-box",!0).attr("width",1e-6).attr("height",1e-6),c.each(function(c,g,j){var k=eL.select(this),e=[];e.push(c);var b=i.top;a.getTitleDisplayText.call(a,c)&&(b+=f/2),new e9().select(this).data(e).text(function(b,c,d){return a.getBodyDisplayText.call(a,b)}).textAnchor("middle").verticalAlign("middle").fontSize(13).x(i.left).y(b-d/2).width(h-i.left-i.right).height(d-b-i.bottom).ellipsis(function(b,d){return k.append("title").text(a.getBodyDisplayText(c)),b.replace(/\.|,$/g,"")+"..."}).render()}),b.append("g").classed("title-group",!0).attr("transform","translate("+ -e/3+", "+(-f/2-d/2)+")").each(function(b,h,i){if(a.getTitleDisplayText.call(a,b)){var c=this,g=eL.select(c),d=[];d.push(b),g.append("rect").classed("title-box",!0).attr("width",e).attr("height",f),new e9().select(c).data(d).text(function(b,c,d){return a.getTitleDisplayText.call(a,b)}).textAnchor("middle").verticalAlign("middle").x(j.left).y(j.top).fontWeight(700).fontMin(6).fontMax(16).fontResize(!0).width(e-j.left-j.right).height(f-j.top-j.bottom).render()}}),a}},{key:"_nodeUpdate",value:function(a,c,e){c.attr("transform",function(a,b,c){return"translate("+a.x+","+a.y+")"});var d=this.nodeSettings.getBodyBoxWidth(),b=this.nodeSettings.getBodyBoxHeight();return a.select(".node .body-group .body-box").attr("y",-(b/2)).attr("width",d).attr("height",b),a.select(".d3plus-textBox").style("fill-opacity",1),this}},{key:"_nodeExit",value:function(c,a,d){var e=this.nodeSettings.getBodyBoxWidth(),b=this.nodeSettings.getBodyBoxHeight();return a.attr("transform",function(c,d,f){for(var a=c.parent;a.parent&&!a.parent.children;)a=a.parent;return"translate("+(a.x+e)+","+(a.y+b/2)+")"}).remove(),a.select(".node .body-group rect").attr("width",1e-6).attr("height",1e-6),a.select(".node .body-group .d3plus-textBox").style("fill-opacity",1e-6).attr("transform",function(a,c,d){return"translate(0,"+ -b/2+")"}).selectAll("text").style("font-size",0).attr("y",0).attr("x",0),a.select(".node .title-group").attr("transform","translate(0, "+ -b/2+")"),a.select(".node .title-group rect").attr("width",1e-6).attr("height",1e-6),a.select(".node .title-group .d3plus-textBox").style("fill-opacity",1e-6).attr("transform","translate(0,0)").selectAll("text").style("font-size",0).attr("y",0).attr("x",0),a.select(".d3plus-textBox").style("fill-opacity",1e-6),this}},{key:"_getNodeSize",value:function(){return[this.nodeSettings.getBodyBoxHeight()+this.nodeSettings.getVerticalSpacing(),this.nodeSettings.getBodyBoxWidth()+this.nodeSettings.getHorizontalSpacing()]}},{key:"_linkEnter",value:function(b,a,c,d){return a.attr("d",function(c,e,f){var a={x:b.x0,y:b.y0};return d({source:a,target:a})}),this}},{key:"_linkUpdate",value:function(b,c,a,d,e){return a.attr("d",function(a,c,d){var b=a.parent;return e({source:a,target:b})}),this}},{key:"_linkExit",value:function(b,c,a,d,e){var f=this.nodeSettings.getBodyBoxWidth();return a.attr("d",function(b,g,h){for(var a=b.parent;a.parent&&!a.parent.children;)a=a.parent;var c={x:a.x,y:a.y+f},d={x:a.x,y:a.y};return e({source:c,target:d})}),this}},{key:"_getLinkPathGenerator",value:function(){var a=this.nodeSettings.getBodyBoxWidth();return eL.linkHorizontal().source(function(a){return[a.source.x,a.source.y]}).target(function(b){return[b.target.x+a,b.target.y]})}},{key:"validateSettings",value:function(){if(fx(fz(b.prototype),"validateSettings",this).call(this),!this._getBodyDisplayText)throw"Need to define the getBodyDisplayText function as part of the options";return this}},{key:"setBodyDisplayTextAccessor",value:function(a){return this._getBodyDisplayText=a,this}},{key:"getBodyDisplayText",value:function(a){return this._getBodyDisplayText(a.data)}},{key:"setTitleDisplayTextAccessor",value:function(a){return this._getTitleDisplayText=a,this}},{key:"getTitleDisplayText",value:function(a){return this._getTitleDisplayText(a.data)}}],fw(a.prototype,c),d&&fw(a,d),b}(X);function fC(a){return(fC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function fD(a){return(fD=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function fE(a,b){return(fE=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Z.defaults={getBodyDisplayText:null,getTitleDisplayText:function(a){return null}};var fF=function(b){function a(){var c,b;return!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),c=this,b=fD(a).apply(this,arguments),b&&("object"===fC(b)||"function"==typeof b)?b:function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(c)}return!function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&fE(b,a)}(a,b),a}(U);function fG(a){return(fG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function fH(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function fI(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function fJ(a,b,c){return(fJ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(d,b,e){var c=fK(d,b);if(c){var a=Object.getOwnPropertyDescriptor(c,b);return a.get?a.get.call(e):a.value}})(a,b,c||a)}function fK(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&null!==(a=fL(a)););return a}function fL(a){return(fL=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function fM(a,b){return(fM=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function fN(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var $=function(e){var a,c,d;function b(c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),a=(e=this,(f=fL(b).call(this,c))&&("object"===fG(f)||"function"==typeof f)?f:fN(e));var e,f,a,d=function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){fH(d,a,c[a])})}return d}({},X.defaults,b.defaults,c);return a._getDisplayText=d.getDisplayText,a.nodeSettings=new fF(fN(fN(a)),d.nodeSettings),a}return!function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&fM(b,a)}(b,e),a=b,c=[{key:"initialize",value:function(){return fJ(fL(b.prototype),"initialize",this).call(this),this.getSvg().classed("circle-tree",!0),this}},{key:"_nodeEnter",value:function(a,b){var c=this;return a.append("circle").attr("r",1e-6),a.append("text").text(function(a,b,d){return c.getDisplayText.call(c,a)}),this}},{key:"_nodeUpdate",value:function(a,b,c){return a.classed("middle",function(a,d,e){var b=!1;if(a.parent&&a.parent.children.length%2!=0){var c=a.parent.children;c.indexOf(a)===Math.floor(c.length/2)&&(b=!0)}return b}),a.transition().duration(this.getDuration()).attr("transform",function(a,b,c){return"translate("+a.x+","+a.y+")"}),a.select("text").style("fill-opacity",1),this}},{key:"_nodeExit",value:function(b,a,c){return a.attr("transform",function(b,c,d){for(var a=b.parent;a.parent&&!a.parent.children;)a=a.parent;return"translate("+a.x+","+a.y+")"}).remove(),a.select("circle").attr("r",1e-6),a.select("text").style("fill-opacity",1e-6),this}},{key:"_getNodeSize",value:function(){return[this.nodeSettings.getVerticalSpacing(),this.nodeSettings.getHorizontalSpacing()]}},{key:"_linkEnter",value:function(b,a,c,d){return a.attr("d",function(c,e,f){var a={x:b.x0,y:b.y0};return d({source:a,target:a})}),this}},{key:"_linkUpdate",value:function(b,c,a,d,e){return a.attr("d",function(a,c,d){var b=a.parent;return e({source:a,target:b})}),this}},{key:"_linkExit",value:function(b,c,a,d,e){return a.attr("d",function(b,f,g){for(var a=b.parent;a.parent&&!a.parent.children;)a=a.parent;var c={x:a.x,y:a.y},d={x:a.x,y:a.y};return e({source:c,target:d})}),this}},{key:"_getLinkPathGenerator",value:function(){return eL.linkHorizontal().source(function(a){return[a.source.x,a.source.y]}).target(function(a){return[a.target.x,a.target.y]})}},{key:"validateSettings",value:function(){if(fJ(fL(b.prototype),"validateSettings",this).call(this),!this.getDisplayText)throw"Need to define the getDisplayText function as part of the options";return this}},{key:"setDisplayTextAccessor",value:function(a){return this._getDisplayText=a,this}},{key:"getDisplayText",value:function(a){return this._getDisplayText(a.data)}}],fI(a.prototype,c),d&&fI(a,d),b}(X);$.defaults={getDisplayText:function(a){return null}},v.default={boxedTree:Z,circleTree:$}}]).default})